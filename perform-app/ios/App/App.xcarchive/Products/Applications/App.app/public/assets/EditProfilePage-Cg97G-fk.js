import{r as Et,P as tr,Q as er,b as ir,c as Gt,e as me,w as lt,g as st,j as Oe,E as rr,f as Q,u as j,z as nr,k as Mt,y as ar,N as xi,O as Ei,d as or,o as sr,s as lr,p as hr,l as Nt,R as cr,x as Ke,S as Zt,A as fr,B as ur,C as dr,J as Ze,K as Je,I as pr,h as gr,F as vr,T as mr,G as ti,i as ei,D as br,t as ii,M as wr}from"./index-BSc-WbhD.js";import{_ as _i}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{p as yr,b as ri}from"./index-QnzCfbxr.js";import{_ as ni}from"./NavButton-BzcajF2k.js";/* empty css              */import{u as Ar}from"./useErrorHandler-eomL11xx.js";/* empty css                                                  *//*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function ai(c,r){var s=Object.keys(c);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(c);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(c,i).enumerable})),s.push.apply(s,t)}return s}function Ci(c){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ai(Object(s),!0).forEach(function(t){Cr(c,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)):ai(Object(s)).forEach(function(t){Object.defineProperty(c,t,Object.getOwnPropertyDescriptor(s,t))})}return c}function xr(c,r){if(typeof c!="object"||!c)return c;var s=c[Symbol.toPrimitive];if(s!==void 0){var t=s.call(c,r||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(c)}function Mi(c){var r=xr(c,"string");return typeof r=="symbol"?r:r+""}function Re(c){"@babel/helpers - typeof";return Re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Re(c)}function Er(c,r){if(!(c instanceof r))throw new TypeError("Cannot call a class as a function")}function oi(c,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(c,Mi(t.key),t)}}function _r(c,r,s){return r&&oi(c.prototype,r),s&&oi(c,s),Object.defineProperty(c,"prototype",{writable:!1}),c}function Cr(c,r,s){return r=Mi(r),r in c?Object.defineProperty(c,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[r]=s,c}function Di(c){return Mr(c)||Dr(c)||Ir(c)||Tr()}function Mr(c){if(Array.isArray(c))return Ue(c)}function Dr(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}function Ir(c,r){if(c){if(typeof c=="string")return Ue(c,r);var s=Object.prototype.toString.call(c).slice(8,-1);if(s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set")return Array.from(c);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Ue(c,r)}}function Ue(c,r){(r==null||r>c.length)&&(r=c.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=c[s];return t}function Tr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e=typeof window<"u"&&typeof window.document<"u",Rt=_e?window:{},We=_e&&Rt.document.documentElement?"ontouchstart"in Rt.document.documentElement:!1,Xe=_e?"PointerEvent"in Rt:!1,J="cropper",Ye="all",Ii="crop",Ti="move",Si="zoom",Vt="e",Qt="w",Jt="s",Ft="n",se="ne",le="nw",he="se",ce="sw",Ne="".concat(J,"-crop"),si="".concat(J,"-disabled"),mt="".concat(J,"-hidden"),li="".concat(J,"-hide"),Sr="".concat(J,"-invisible"),we="".concat(J,"-modal"),ke="".concat(J,"-move"),ue="".concat(J,"Action"),ge="".concat(J,"Preview"),je="crop",Oi="move",Ri="none",Pe="crop",Le="cropend",Fe="cropmove",Be="cropstart",hi="dblclick",Or=We?"touchstart":"mousedown",Rr=We?"touchmove":"mousemove",Ur=We?"touchend touchcancel":"mouseup",ci=Xe?"pointerdown":Or,fi=Xe?"pointermove":Rr,ui=Xe?"pointerup pointercancel":Ur,di="ready",pi="resize",gi="wheel",He="zoom",vi="image/jpeg",Nr=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,kr=/^data:/,Pr=/^data:image\/jpeg;base64,/,Lr=/^img|canvas$/i,Ui=200,Ni=100,mi={viewMode:0,dragMode:je,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Ui,minContainerHeight:Ni,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Fr='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Br=Number.isNaN||Rt.isNaN;function X(c){return typeof c=="number"&&!Br(c)}var bi=function(r){return r>0&&r<1/0};function Ie(c){return typeof c>"u"}function qt(c){return Re(c)==="object"&&c!==null}var Hr=Object.prototype.hasOwnProperty;function te(c){if(!qt(c))return!1;try{var r=c.constructor,s=r.prototype;return r&&s&&Hr.call(s,"isPrototypeOf")}catch{return!1}}function vt(c){return typeof c=="function"}var zr=Array.prototype.slice;function ki(c){return Array.from?Array.from(c):zr.call(c)}function at(c,r){return c&&vt(r)&&(Array.isArray(c)||X(c.length)?ki(c).forEach(function(s,t){r.call(c,s,t,c)}):qt(c)&&Object.keys(c).forEach(function(s){r.call(c,c[s],s,c)})),c}var tt=Object.assign||function(r){for(var s=arguments.length,t=new Array(s>1?s-1:0),i=1;i<s;i++)t[i-1]=arguments[i];return qt(r)&&t.length>0&&t.forEach(function(e){qt(e)&&Object.keys(e).forEach(function(l){r[l]=e[l]})}),r},Wr=/\.\d*(?:0|9){12}\d*$/;function re(c){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Wr.test(c)?Math.round(c*r)/r:c}var Xr=/^width|height|left|top|marginLeft|marginTop$/;function Bt(c,r){var s=c.style;at(r,function(t,i){Xr.test(i)&&X(t)&&(t="".concat(t,"px")),s[i]=t})}function Yr(c,r){return c.classList?c.classList.contains(r):c.className.indexOf(r)>-1}function ht(c,r){if(r){if(X(c.length)){at(c,function(t){ht(t,r)});return}if(c.classList){c.classList.add(r);return}var s=c.className.trim();s?s.indexOf(r)<0&&(c.className="".concat(s," ").concat(r)):c.className=r}}function Ot(c,r){if(r){if(X(c.length)){at(c,function(s){Ot(s,r)});return}if(c.classList){c.classList.remove(r);return}c.className.indexOf(r)>=0&&(c.className=c.className.replace(r,""))}}function ee(c,r,s){if(r){if(X(c.length)){at(c,function(t){ee(t,r,s)});return}s?ht(c,r):Ot(c,r)}}var jr=/([a-z\d])([A-Z])/g;function Ve(c){return c.replace(jr,"$1-$2").toLowerCase()}function ze(c,r){return qt(c[r])?c[r]:c.dataset?c.dataset[r]:c.getAttribute("data-".concat(Ve(r)))}function de(c,r,s){qt(s)?c[r]=s:c.dataset?c.dataset[r]=s:c.setAttribute("data-".concat(Ve(r)),s)}function Vr(c,r){if(qt(c[r]))try{delete c[r]}catch{c[r]=void 0}else if(c.dataset)try{delete c.dataset[r]}catch{c.dataset[r]=void 0}else c.removeAttribute("data-".concat(Ve(r)))}var Pi=/\s\s*/,Li=function(){var c=!1;if(_e){var r=!1,s=function(){},t=Object.defineProperty({},"once",{get:function(){return c=!0,r},set:function(e){r=e}});Rt.addEventListener("test",s,t),Rt.removeEventListener("test",s,t)}return c}();function Ct(c,r,s){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=s;r.trim().split(Pi).forEach(function(e){if(!Li){var l=c.listeners;l&&l[e]&&l[e][s]&&(i=l[e][s],delete l[e][s],Object.keys(l[e]).length===0&&delete l[e],Object.keys(l).length===0&&delete c.listeners)}c.removeEventListener(e,i,t)})}function xt(c,r,s){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=s;r.trim().split(Pi).forEach(function(e){if(t.once&&!Li){var l=c.listeners,h=l===void 0?{}:l;i=function(){delete h[e][s],c.removeEventListener(e,i,t);for(var p=arguments.length,n=new Array(p),a=0;a<p;a++)n[a]=arguments[a];s.apply(c,n)},h[e]||(h[e]={}),h[e][s]&&c.removeEventListener(e,h[e][s],t),h[e][s]=i,c.listeners=h}c.addEventListener(e,i,t)})}function ne(c,r,s){var t;return vt(Event)&&vt(CustomEvent)?t=new CustomEvent(r,{detail:s,bubbles:!0,cancelable:!0}):(t=document.createEvent("CustomEvent"),t.initCustomEvent(r,!0,!0,s)),c.dispatchEvent(t)}function Fi(c){var r=c.getBoundingClientRect();return{left:r.left+(window.pageXOffset-document.documentElement.clientLeft),top:r.top+(window.pageYOffset-document.documentElement.clientTop)}}var Te=Rt.location,Qr=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function wi(c){var r=c.match(Qr);return r!==null&&(r[1]!==Te.protocol||r[2]!==Te.hostname||r[3]!==Te.port)}function yi(c){var r="timestamp=".concat(new Date().getTime());return c+(c.indexOf("?")===-1?"?":"&")+r}function fe(c){var r=c.rotate,s=c.scaleX,t=c.scaleY,i=c.translateX,e=c.translateY,l=[];X(i)&&i!==0&&l.push("translateX(".concat(i,"px)")),X(e)&&e!==0&&l.push("translateY(".concat(e,"px)")),X(r)&&r!==0&&l.push("rotate(".concat(r,"deg)")),X(s)&&s!==1&&l.push("scaleX(".concat(s,")")),X(t)&&t!==1&&l.push("scaleY(".concat(t,")"));var h=l.length?l.join(" "):"none";return{WebkitTransform:h,msTransform:h,transform:h}}function Gr(c){var r=Ci({},c),s=0;return at(c,function(t,i){delete r[i],at(r,function(e){var l=Math.abs(t.startX-e.startX),h=Math.abs(t.startY-e.startY),v=Math.abs(t.endX-e.endX),p=Math.abs(t.endY-e.endY),n=Math.sqrt(l*l+h*h),a=Math.sqrt(v*v+p*p),o=(a-n)/n;Math.abs(o)>Math.abs(s)&&(s=o)})}),s}function ve(c,r){var s=c.pageX,t=c.pageY,i={endX:s,endY:t};return r?i:Ci({startX:s,startY:t},i)}function $r(c){var r=0,s=0,t=0;return at(c,function(i){var e=i.startX,l=i.startY;r+=e,s+=l,t+=1}),r/=t,s/=t,{pageX:r,pageY:s}}function Ht(c){var r=c.aspectRatio,s=c.height,t=c.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",e=bi(t),l=bi(s);if(e&&l){var h=s*r;i==="contain"&&h>t||i==="cover"&&h<t?s=t/r:t=s*r}else e?s=t/r:l&&(t=s*r);return{width:t,height:s}}function qr(c){var r=c.width,s=c.height,t=c.degree;if(t=Math.abs(t)%180,t===90)return{width:s,height:r};var i=t%90*Math.PI/180,e=Math.sin(i),l=Math.cos(i),h=r*l+s*e,v=r*e+s*l;return t>90?{width:v,height:h}:{width:h,height:v}}function Kr(c,r,s,t){var i=r.aspectRatio,e=r.naturalWidth,l=r.naturalHeight,h=r.rotate,v=h===void 0?0:h,p=r.scaleX,n=p===void 0?1:p,a=r.scaleY,o=a===void 0?1:a,u=s.aspectRatio,w=s.naturalWidth,_=s.naturalHeight,D=t.fillColor,A=D===void 0?"transparent":D,N=t.imageSmoothingEnabled,R=N===void 0?!0:N,O=t.imageSmoothingQuality,k=O===void 0?"low":O,d=t.maxWidth,E=d===void 0?1/0:d,f=t.maxHeight,g=f===void 0?1/0:f,y=t.minWidth,M=y===void 0?0:y,C=t.minHeight,I=C===void 0?0:C,x=document.createElement("canvas"),T=x.getContext("2d"),b=Ht({aspectRatio:u,width:E,height:g}),m=Ht({aspectRatio:u,width:M,height:I},"cover"),P=Math.min(b.width,Math.max(m.width,w)),S=Math.min(b.height,Math.max(m.height,_)),L=Ht({aspectRatio:i,width:E,height:g}),z=Ht({aspectRatio:i,width:M,height:I},"cover"),B=Math.min(L.width,Math.max(z.width,e)),H=Math.min(L.height,Math.max(z.height,l)),F=[-B/2,-H/2,B,H];return x.width=re(P),x.height=re(S),T.fillStyle=A,T.fillRect(0,0,P,S),T.save(),T.translate(P/2,S/2),T.rotate(v*Math.PI/180),T.scale(n,o),T.imageSmoothingEnabled=R,T.imageSmoothingQuality=k,T.drawImage.apply(T,[c].concat(Di(F.map(function(U){return Math.floor(re(U))})))),T.restore(),x}var Bi=String.fromCharCode;function Zr(c,r,s){var t="";s+=r;for(var i=r;i<s;i+=1)t+=Bi(c.getUint8(i));return t}var Jr=/^data:.*,/;function tn(c){var r=c.replace(Jr,""),s=atob(r),t=new ArrayBuffer(s.length),i=new Uint8Array(t);return at(i,function(e,l){i[l]=s.charCodeAt(l)}),t}function en(c,r){for(var s=[],t=8192,i=new Uint8Array(c);i.length>0;)s.push(Bi.apply(null,ki(i.subarray(0,t)))),i=i.subarray(t);return"data:".concat(r,";base64,").concat(btoa(s.join("")))}function rn(c){var r=new DataView(c),s;try{var t,i,e;if(r.getUint8(0)===255&&r.getUint8(1)===216)for(var l=r.byteLength,h=2;h+1<l;){if(r.getUint8(h)===255&&r.getUint8(h+1)===225){i=h;break}h+=1}if(i){var v=i+4,p=i+10;if(Zr(r,v,4)==="Exif"){var n=r.getUint16(p);if(t=n===18761,(t||n===19789)&&r.getUint16(p+2,t)===42){var a=r.getUint32(p+4,t);a>=8&&(e=p+a)}}}if(e){var o=r.getUint16(e,t),u,w;for(w=0;w<o;w+=1)if(u=e+w*12+2,r.getUint16(u,t)===274){u+=8,s=r.getUint16(u,t),r.setUint16(u,1,t);break}}}catch{s=1}return s}function nn(c){var r=0,s=1,t=1;switch(c){case 2:s=-1;break;case 3:r=-180;break;case 4:t=-1;break;case 5:r=90,t=-1;break;case 6:r=90;break;case 7:r=90,s=-1;break;case 8:r=-90;break}return{rotate:r,scaleX:s,scaleY:t}}var an={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var r=this.element,s=this.options,t=this.container,i=this.cropper,e=Number(s.minContainerWidth),l=Number(s.minContainerHeight);ht(i,mt),Ot(r,mt);var h={width:Math.max(t.offsetWidth,e>=0?e:Ui),height:Math.max(t.offsetHeight,l>=0?l:Ni)};this.containerData=h,Bt(i,{width:h.width,height:h.height}),ht(r,mt),Ot(i,mt)},initCanvas:function(){var r=this.containerData,s=this.imageData,t=this.options.viewMode,i=Math.abs(s.rotate)%180===90,e=i?s.naturalHeight:s.naturalWidth,l=i?s.naturalWidth:s.naturalHeight,h=e/l,v=r.width,p=r.height;r.height*h>r.width?t===3?v=r.height*h:p=r.width/h:t===3?p=r.width/h:v=r.height*h;var n={aspectRatio:h,naturalWidth:e,naturalHeight:l,width:v,height:p};this.canvasData=n,this.limited=t===1||t===2,this.limitCanvas(!0,!0),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),n.left=(r.width-n.width)/2,n.top=(r.height-n.height)/2,n.oldLeft=n.left,n.oldTop=n.top,this.initialCanvasData=tt({},n)},limitCanvas:function(r,s){var t=this.options,i=this.containerData,e=this.canvasData,l=this.cropBoxData,h=t.viewMode,v=e.aspectRatio,p=this.cropped&&l;if(r){var n=Number(t.minCanvasWidth)||0,a=Number(t.minCanvasHeight)||0;h>1?(n=Math.max(n,i.width),a=Math.max(a,i.height),h===3&&(a*v>n?n=a*v:a=n/v)):h>0&&(n?n=Math.max(n,p?l.width:0):a?a=Math.max(a,p?l.height:0):p&&(n=l.width,a=l.height,a*v>n?n=a*v:a=n/v));var o=Ht({aspectRatio:v,width:n,height:a});n=o.width,a=o.height,e.minWidth=n,e.minHeight=a,e.maxWidth=1/0,e.maxHeight=1/0}if(s)if(h>(p?0:1)){var u=i.width-e.width,w=i.height-e.height;e.minLeft=Math.min(0,u),e.minTop=Math.min(0,w),e.maxLeft=Math.max(0,u),e.maxTop=Math.max(0,w),p&&this.limited&&(e.minLeft=Math.min(l.left,l.left+(l.width-e.width)),e.minTop=Math.min(l.top,l.top+(l.height-e.height)),e.maxLeft=l.left,e.maxTop=l.top,h===2&&(e.width>=i.width&&(e.minLeft=Math.min(0,u),e.maxLeft=Math.max(0,u)),e.height>=i.height&&(e.minTop=Math.min(0,w),e.maxTop=Math.max(0,w))))}else e.minLeft=-e.width,e.minTop=-e.height,e.maxLeft=i.width,e.maxTop=i.height},renderCanvas:function(r,s){var t=this.canvasData,i=this.imageData;if(s){var e=qr({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),l=e.width,h=e.height,v=t.width*(l/t.naturalWidth),p=t.height*(h/t.naturalHeight);t.left-=(v-t.width)/2,t.top-=(p-t.height)/2,t.width=v,t.height=p,t.aspectRatio=l/h,t.naturalWidth=l,t.naturalHeight=h,this.limitCanvas(!0,!1)}(t.width>t.maxWidth||t.width<t.minWidth)&&(t.left=t.oldLeft),(t.height>t.maxHeight||t.height<t.minHeight)&&(t.top=t.oldTop),t.width=Math.min(Math.max(t.width,t.minWidth),t.maxWidth),t.height=Math.min(Math.max(t.height,t.minHeight),t.maxHeight),this.limitCanvas(!1,!0),t.left=Math.min(Math.max(t.left,t.minLeft),t.maxLeft),t.top=Math.min(Math.max(t.top,t.minTop),t.maxTop),t.oldLeft=t.left,t.oldTop=t.top,Bt(this.canvas,tt({width:t.width,height:t.height},fe({translateX:t.left,translateY:t.top}))),this.renderImage(r),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(r){var s=this.canvasData,t=this.imageData,i=t.naturalWidth*(s.width/s.naturalWidth),e=t.naturalHeight*(s.height/s.naturalHeight);tt(t,{width:i,height:e,left:(s.width-i)/2,top:(s.height-e)/2}),Bt(this.image,tt({width:t.width,height:t.height},fe(tt({translateX:t.left,translateY:t.top},t)))),r&&this.output()},initCropBox:function(){var r=this.options,s=this.canvasData,t=r.aspectRatio||r.initialAspectRatio,i=Number(r.autoCropArea)||.8,e={width:s.width,height:s.height};t&&(s.height*t>s.width?e.height=e.width/t:e.width=e.height*t),this.cropBoxData=e,this.limitCropBox(!0,!0),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),e.width=Math.max(e.minWidth,e.width*i),e.height=Math.max(e.minHeight,e.height*i),e.left=s.left+(s.width-e.width)/2,e.top=s.top+(s.height-e.height)/2,e.oldLeft=e.left,e.oldTop=e.top,this.initialCropBoxData=tt({},e)},limitCropBox:function(r,s){var t=this.options,i=this.containerData,e=this.canvasData,l=this.cropBoxData,h=this.limited,v=t.aspectRatio;if(r){var p=Number(t.minCropBoxWidth)||0,n=Number(t.minCropBoxHeight)||0,a=h?Math.min(i.width,e.width,e.width+e.left,i.width-e.left):i.width,o=h?Math.min(i.height,e.height,e.height+e.top,i.height-e.top):i.height;p=Math.min(p,i.width),n=Math.min(n,i.height),v&&(p&&n?n*v>p?n=p/v:p=n*v:p?n=p/v:n&&(p=n*v),o*v>a?o=a/v:a=o*v),l.minWidth=Math.min(p,a),l.minHeight=Math.min(n,o),l.maxWidth=a,l.maxHeight=o}s&&(h?(l.minLeft=Math.max(0,e.left),l.minTop=Math.max(0,e.top),l.maxLeft=Math.min(i.width,e.left+e.width)-l.width,l.maxTop=Math.min(i.height,e.top+e.height)-l.height):(l.minLeft=0,l.minTop=0,l.maxLeft=i.width-l.width,l.maxTop=i.height-l.height))},renderCropBox:function(){var r=this.options,s=this.containerData,t=this.cropBoxData;(t.width>t.maxWidth||t.width<t.minWidth)&&(t.left=t.oldLeft),(t.height>t.maxHeight||t.height<t.minHeight)&&(t.top=t.oldTop),t.width=Math.min(Math.max(t.width,t.minWidth),t.maxWidth),t.height=Math.min(Math.max(t.height,t.minHeight),t.maxHeight),this.limitCropBox(!1,!0),t.left=Math.min(Math.max(t.left,t.minLeft),t.maxLeft),t.top=Math.min(Math.max(t.top,t.minTop),t.maxTop),t.oldLeft=t.left,t.oldTop=t.top,r.movable&&r.cropBoxMovable&&de(this.face,ue,t.width>=s.width&&t.height>=s.height?Ti:Ye),Bt(this.cropBox,tt({width:t.width,height:t.height},fe({translateX:t.left,translateY:t.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ne(this.element,Pe,this.getData())}},on={initPreview:function(){var r=this.element,s=this.crossOrigin,t=this.options.preview,i=s?this.crossOriginUrl:this.url,e=r.alt||"The image to preview",l=document.createElement("img");if(s&&(l.crossOrigin=s),l.src=i,l.alt=e,this.viewBox.appendChild(l),this.viewBoxImage=l,!!t){var h=t;typeof t=="string"?h=r.ownerDocument.querySelectorAll(t):t.querySelector&&(h=[t]),this.previews=h,at(h,function(v){var p=document.createElement("img");de(v,ge,{width:v.offsetWidth,height:v.offsetHeight,html:v.innerHTML}),s&&(p.crossOrigin=s),p.src=i,p.alt=e,p.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',v.innerHTML="",v.appendChild(p)})}},resetPreview:function(){at(this.previews,function(r){var s=ze(r,ge);Bt(r,{width:s.width,height:s.height}),r.innerHTML=s.html,Vr(r,ge)})},preview:function(){var r=this.imageData,s=this.canvasData,t=this.cropBoxData,i=t.width,e=t.height,l=r.width,h=r.height,v=t.left-s.left-r.left,p=t.top-s.top-r.top;!this.cropped||this.disabled||(Bt(this.viewBoxImage,tt({width:l,height:h},fe(tt({translateX:-v,translateY:-p},r)))),at(this.previews,function(n){var a=ze(n,ge),o=a.width,u=a.height,w=o,_=u,D=1;i&&(D=o/i,_=e*D),e&&_>u&&(D=u/e,w=i*D,_=u),Bt(n,{width:w,height:_}),Bt(n.getElementsByTagName("img")[0],tt({width:l*D,height:h*D},fe(tt({translateX:-v*D,translateY:-p*D},r))))}))}},sn={bind:function(){var r=this.element,s=this.options,t=this.cropper;vt(s.cropstart)&&xt(r,Be,s.cropstart),vt(s.cropmove)&&xt(r,Fe,s.cropmove),vt(s.cropend)&&xt(r,Le,s.cropend),vt(s.crop)&&xt(r,Pe,s.crop),vt(s.zoom)&&xt(r,He,s.zoom),xt(t,ci,this.onCropStart=this.cropStart.bind(this)),s.zoomable&&s.zoomOnWheel&&xt(t,gi,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),s.toggleDragModeOnDblclick&&xt(t,hi,this.onDblclick=this.dblclick.bind(this)),xt(r.ownerDocument,fi,this.onCropMove=this.cropMove.bind(this)),xt(r.ownerDocument,ui,this.onCropEnd=this.cropEnd.bind(this)),s.responsive&&xt(window,pi,this.onResize=this.resize.bind(this))},unbind:function(){var r=this.element,s=this.options,t=this.cropper;vt(s.cropstart)&&Ct(r,Be,s.cropstart),vt(s.cropmove)&&Ct(r,Fe,s.cropmove),vt(s.cropend)&&Ct(r,Le,s.cropend),vt(s.crop)&&Ct(r,Pe,s.crop),vt(s.zoom)&&Ct(r,He,s.zoom),Ct(t,ci,this.onCropStart),s.zoomable&&s.zoomOnWheel&&Ct(t,gi,this.onWheel,{passive:!1,capture:!0}),s.toggleDragModeOnDblclick&&Ct(t,hi,this.onDblclick),Ct(r.ownerDocument,fi,this.onCropMove),Ct(r.ownerDocument,ui,this.onCropEnd),s.responsive&&Ct(window,pi,this.onResize)}},ln={resize:function(){if(!this.disabled){var r=this.options,s=this.container,t=this.containerData,i=s.offsetWidth/t.width,e=s.offsetHeight/t.height,l=Math.abs(i-1)>Math.abs(e-1)?i:e;if(l!==1){var h,v;r.restore&&(h=this.getCanvasData(),v=this.getCropBoxData()),this.render(),r.restore&&(this.setCanvasData(at(h,function(p,n){h[n]=p*l})),this.setCropBoxData(at(v,function(p,n){v[n]=p*l})))}}},dblclick:function(){this.disabled||this.options.dragMode===Ri||this.setDragMode(Yr(this.dragBox,Ne)?Oi:je)},wheel:function(r){var s=this,t=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(r.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){s.wheeling=!1},50),r.deltaY?i=r.deltaY>0?1:-1:r.wheelDelta?i=-r.wheelDelta/120:r.detail&&(i=r.detail>0?1:-1),this.zoom(-i*t,r)))},cropStart:function(r){var s=r.buttons,t=r.button;if(!(this.disabled||(r.type==="mousedown"||r.type==="pointerdown"&&r.pointerType==="mouse")&&(X(s)&&s!==1||X(t)&&t!==0||r.ctrlKey))){var i=this.options,e=this.pointers,l;r.changedTouches?at(r.changedTouches,function(h){e[h.identifier]=ve(h)}):e[r.pointerId||0]=ve(r),Object.keys(e).length>1&&i.zoomable&&i.zoomOnTouch?l=Si:l=ze(r.target,ue),Nr.test(l)&&ne(this.element,Be,{originalEvent:r,action:l})!==!1&&(r.preventDefault(),this.action=l,this.cropping=!1,l===Ii&&(this.cropping=!0,ht(this.dragBox,we)))}},cropMove:function(r){var s=this.action;if(!(this.disabled||!s)){var t=this.pointers;r.preventDefault(),ne(this.element,Fe,{originalEvent:r,action:s})!==!1&&(r.changedTouches?at(r.changedTouches,function(i){tt(t[i.identifier]||{},ve(i,!0))}):tt(t[r.pointerId||0]||{},ve(r,!0)),this.change(r))}},cropEnd:function(r){if(!this.disabled){var s=this.action,t=this.pointers;r.changedTouches?at(r.changedTouches,function(i){delete t[i.identifier]}):delete t[r.pointerId||0],s&&(r.preventDefault(),Object.keys(t).length||(this.action=""),this.cropping&&(this.cropping=!1,ee(this.dragBox,we,this.cropped&&this.options.modal)),ne(this.element,Le,{originalEvent:r,action:s}))}}},hn={change:function(r){var s=this.options,t=this.canvasData,i=this.containerData,e=this.cropBoxData,l=this.pointers,h=this.action,v=s.aspectRatio,p=e.left,n=e.top,a=e.width,o=e.height,u=p+a,w=n+o,_=0,D=0,A=i.width,N=i.height,R=!0,O;!v&&r.shiftKey&&(v=a&&o?a/o:1),this.limited&&(_=e.minLeft,D=e.minTop,A=_+Math.min(i.width,t.width,t.left+t.width),N=D+Math.min(i.height,t.height,t.top+t.height));var k=l[Object.keys(l)[0]],d={x:k.endX-k.startX,y:k.endY-k.startY},E=function(g){switch(g){case Vt:u+d.x>A&&(d.x=A-u);break;case Qt:p+d.x<_&&(d.x=_-p);break;case Ft:n+d.y<D&&(d.y=D-n);break;case Jt:w+d.y>N&&(d.y=N-w);break}};switch(h){case Ye:p+=d.x,n+=d.y;break;case Vt:if(d.x>=0&&(u>=A||v&&(n<=D||w>=N))){R=!1;break}E(Vt),a+=d.x,a<0&&(h=Qt,a=-a,p-=a),v&&(o=a/v,n+=(e.height-o)/2);break;case Ft:if(d.y<=0&&(n<=D||v&&(p<=_||u>=A))){R=!1;break}E(Ft),o-=d.y,n+=d.y,o<0&&(h=Jt,o=-o,n-=o),v&&(a=o*v,p+=(e.width-a)/2);break;case Qt:if(d.x<=0&&(p<=_||v&&(n<=D||w>=N))){R=!1;break}E(Qt),a-=d.x,p+=d.x,a<0&&(h=Vt,a=-a,p-=a),v&&(o=a/v,n+=(e.height-o)/2);break;case Jt:if(d.y>=0&&(w>=N||v&&(p<=_||u>=A))){R=!1;break}E(Jt),o+=d.y,o<0&&(h=Ft,o=-o,n-=o),v&&(a=o*v,p+=(e.width-a)/2);break;case se:if(v){if(d.y<=0&&(n<=D||u>=A)){R=!1;break}E(Ft),o-=d.y,n+=d.y,a=o*v}else E(Ft),E(Vt),d.x>=0?u<A?a+=d.x:d.y<=0&&n<=D&&(R=!1):a+=d.x,d.y<=0?n>D&&(o-=d.y,n+=d.y):(o-=d.y,n+=d.y);a<0&&o<0?(h=ce,o=-o,a=-a,n-=o,p-=a):a<0?(h=le,a=-a,p-=a):o<0&&(h=he,o=-o,n-=o);break;case le:if(v){if(d.y<=0&&(n<=D||p<=_)){R=!1;break}E(Ft),o-=d.y,n+=d.y,a=o*v,p+=e.width-a}else E(Ft),E(Qt),d.x<=0?p>_?(a-=d.x,p+=d.x):d.y<=0&&n<=D&&(R=!1):(a-=d.x,p+=d.x),d.y<=0?n>D&&(o-=d.y,n+=d.y):(o-=d.y,n+=d.y);a<0&&o<0?(h=he,o=-o,a=-a,n-=o,p-=a):a<0?(h=se,a=-a,p-=a):o<0&&(h=ce,o=-o,n-=o);break;case ce:if(v){if(d.x<=0&&(p<=_||w>=N)){R=!1;break}E(Qt),a-=d.x,p+=d.x,o=a/v}else E(Jt),E(Qt),d.x<=0?p>_?(a-=d.x,p+=d.x):d.y>=0&&w>=N&&(R=!1):(a-=d.x,p+=d.x),d.y>=0?w<N&&(o+=d.y):o+=d.y;a<0&&o<0?(h=se,o=-o,a=-a,n-=o,p-=a):a<0?(h=he,a=-a,p-=a):o<0&&(h=le,o=-o,n-=o);break;case he:if(v){if(d.x>=0&&(u>=A||w>=N)){R=!1;break}E(Vt),a+=d.x,o=a/v}else E(Jt),E(Vt),d.x>=0?u<A?a+=d.x:d.y>=0&&w>=N&&(R=!1):a+=d.x,d.y>=0?w<N&&(o+=d.y):o+=d.y;a<0&&o<0?(h=le,o=-o,a=-a,n-=o,p-=a):a<0?(h=ce,a=-a,p-=a):o<0&&(h=se,o=-o,n-=o);break;case Ti:this.move(d.x,d.y),R=!1;break;case Si:this.zoom(Gr(l),r),R=!1;break;case Ii:if(!d.x||!d.y){R=!1;break}O=Fi(this.cropper),p=k.startX-O.left,n=k.startY-O.top,a=e.minWidth,o=e.minHeight,d.x>0?h=d.y>0?he:se:d.x<0&&(p-=a,h=d.y>0?ce:le),d.y<0&&(n-=o),this.cropped||(Ot(this.cropBox,mt),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}R&&(e.width=a,e.height=o,e.left=p,e.top=n,this.action=h,this.renderCropBox()),at(l,function(f){f.startX=f.endX,f.startY=f.endY})}},cn={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ht(this.dragBox,we),Ot(this.cropBox,mt),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=tt({},this.initialImageData),this.canvasData=tt({},this.initialCanvasData),this.cropBoxData=tt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(tt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Ot(this.dragBox,we),ht(this.cropBox,mt)),this},replace:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&r&&(this.isImg&&(this.element.src=r),s?(this.url=r,this.image.src=r,this.ready&&(this.viewBoxImage.src=r,at(this.previews,function(t){t.getElementsByTagName("img")[0].src=r}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(r))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Ot(this.cropper,si)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,ht(this.cropper,si)),this},destroy:function(){var r=this.element;return r[J]?(r[J]=void 0,this.isImg&&this.replaced&&(r.src=this.originalUrl),this.uncreate(),this):this},move:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,t=this.canvasData,i=t.left,e=t.top;return this.moveTo(Ie(r)?r:i+Number(r),Ie(s)?s:e+Number(s))},moveTo:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,t=this.canvasData,i=!1;return r=Number(r),s=Number(s),this.ready&&!this.disabled&&this.options.movable&&(X(r)&&(t.left=r,i=!0),X(s)&&(t.top=s,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(r,s){var t=this.canvasData;return r=Number(r),r<0?r=1/(1-r):r=1+r,this.zoomTo(t.width*r/t.naturalWidth,null,s)},zoomTo:function(r,s,t){var i=this.options,e=this.canvasData,l=e.width,h=e.height,v=e.naturalWidth,p=e.naturalHeight;if(r=Number(r),r>=0&&this.ready&&!this.disabled&&i.zoomable){var n=v*r,a=p*r;if(ne(this.element,He,{ratio:r,oldRatio:l/v,originalEvent:t})===!1)return this;if(t){var o=this.pointers,u=Fi(this.cropper),w=o&&Object.keys(o).length?$r(o):{pageX:t.pageX,pageY:t.pageY};e.left-=(n-l)*((w.pageX-u.left-e.left)/l),e.top-=(a-h)*((w.pageY-u.top-e.top)/h)}else te(s)&&X(s.x)&&X(s.y)?(e.left-=(n-l)*((s.x-e.left)/l),e.top-=(a-h)*((s.y-e.top)/h)):(e.left-=(n-l)/2,e.top-=(a-h)/2);e.width=n,e.height=a,this.renderCanvas(!0)}return this},rotate:function(r){return this.rotateTo((this.imageData.rotate||0)+Number(r))},rotateTo:function(r){return r=Number(r),X(r)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=r%360,this.renderCanvas(!0,!0)),this},scaleX:function(r){var s=this.imageData.scaleY;return this.scale(r,X(s)?s:1)},scaleY:function(r){var s=this.imageData.scaleX;return this.scale(X(s)?s:1,r)},scale:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,t=this.imageData,i=!1;return r=Number(r),s=Number(s),this.ready&&!this.disabled&&this.options.scalable&&(X(r)&&(t.scaleX=r,i=!0),X(s)&&(t.scaleY=s,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,s=this.options,t=this.imageData,i=this.canvasData,e=this.cropBoxData,l;if(this.ready&&this.cropped){l={x:e.left-i.left,y:e.top-i.top,width:e.width,height:e.height};var h=t.width/t.naturalWidth;if(at(l,function(n,a){l[a]=n/h}),r){var v=Math.round(l.y+l.height),p=Math.round(l.x+l.width);l.x=Math.round(l.x),l.y=Math.round(l.y),l.width=p-l.x,l.height=v-l.y}}else l={x:0,y:0,width:0,height:0};return s.rotatable&&(l.rotate=t.rotate||0),s.scalable&&(l.scaleX=t.scaleX||1,l.scaleY=t.scaleY||1),l},setData:function(r){var s=this.options,t=this.imageData,i=this.canvasData,e={};if(this.ready&&!this.disabled&&te(r)){var l=!1;s.rotatable&&X(r.rotate)&&r.rotate!==t.rotate&&(t.rotate=r.rotate,l=!0),s.scalable&&(X(r.scaleX)&&r.scaleX!==t.scaleX&&(t.scaleX=r.scaleX,l=!0),X(r.scaleY)&&r.scaleY!==t.scaleY&&(t.scaleY=r.scaleY,l=!0)),l&&this.renderCanvas(!0,!0);var h=t.width/t.naturalWidth;X(r.x)&&(e.left=r.x*h+i.left),X(r.y)&&(e.top=r.y*h+i.top),X(r.width)&&(e.width=r.width*h),X(r.height)&&(e.height=r.height*h),this.setCropBoxData(e)}return this},getContainerData:function(){return this.ready?tt({},this.containerData):{}},getImageData:function(){return this.sized?tt({},this.imageData):{}},getCanvasData:function(){var r=this.canvasData,s={};return this.ready&&at(["left","top","width","height","naturalWidth","naturalHeight"],function(t){s[t]=r[t]}),s},setCanvasData:function(r){var s=this.canvasData,t=s.aspectRatio;return this.ready&&!this.disabled&&te(r)&&(X(r.left)&&(s.left=r.left),X(r.top)&&(s.top=r.top),X(r.width)?(s.width=r.width,s.height=r.width/t):X(r.height)&&(s.height=r.height,s.width=r.height*t),this.renderCanvas(!0)),this},getCropBoxData:function(){var r=this.cropBoxData,s;return this.ready&&this.cropped&&(s={left:r.left,top:r.top,width:r.width,height:r.height}),s||{}},setCropBoxData:function(r){var s=this.cropBoxData,t=this.options.aspectRatio,i,e;return this.ready&&this.cropped&&!this.disabled&&te(r)&&(X(r.left)&&(s.left=r.left),X(r.top)&&(s.top=r.top),X(r.width)&&r.width!==s.width&&(i=!0,s.width=r.width),X(r.height)&&r.height!==s.height&&(e=!0,s.height=r.height),t&&(i?s.height=s.width/t:e&&(s.width=s.height*t)),this.renderCropBox()),this},getCroppedCanvas:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var s=this.canvasData,t=Kr(this.image,this.imageData,s,r);if(!this.cropped)return t;var i=this.getData(r.rounded),e=i.x,l=i.y,h=i.width,v=i.height,p=t.width/Math.floor(s.naturalWidth);p!==1&&(e*=p,l*=p,h*=p,v*=p);var n=h/v,a=Ht({aspectRatio:n,width:r.maxWidth||1/0,height:r.maxHeight||1/0}),o=Ht({aspectRatio:n,width:r.minWidth||0,height:r.minHeight||0},"cover"),u=Ht({aspectRatio:n,width:r.width||(p!==1?t.width:h),height:r.height||(p!==1?t.height:v)}),w=u.width,_=u.height;w=Math.min(a.width,Math.max(o.width,w)),_=Math.min(a.height,Math.max(o.height,_));var D=document.createElement("canvas"),A=D.getContext("2d");D.width=re(w),D.height=re(_),A.fillStyle=r.fillColor||"transparent",A.fillRect(0,0,w,_);var N=r.imageSmoothingEnabled,R=N===void 0?!0:N,O=r.imageSmoothingQuality;A.imageSmoothingEnabled=R,O&&(A.imageSmoothingQuality=O);var k=t.width,d=t.height,E=e,f=l,g,y,M,C,I,x;E<=-h||E>k?(E=0,g=0,M=0,I=0):E<=0?(M=-E,E=0,g=Math.min(k,h+E),I=g):E<=k&&(M=0,g=Math.min(h,k-E),I=g),g<=0||f<=-v||f>d?(f=0,y=0,C=0,x=0):f<=0?(C=-f,f=0,y=Math.min(d,v+f),x=y):f<=d&&(C=0,y=Math.min(v,d-f),x=y);var T=[E,f,g,y];if(I>0&&x>0){var b=w/h;T.push(M*b,C*b,I*b,x*b)}return A.drawImage.apply(A,[t].concat(Di(T.map(function(m){return Math.floor(re(m))})))),D},setAspectRatio:function(r){var s=this.options;return!this.disabled&&!Ie(r)&&(s.aspectRatio=Math.max(0,r)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(r){var s=this.options,t=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var e=r===je,l=s.movable&&r===Oi;r=e||l?r:Ri,s.dragMode=r,de(t,ue,r),ee(t,Ne,e),ee(t,ke,l),s.cropBoxMovable||(de(i,ue,r),ee(i,Ne,e),ee(i,ke,l))}return this}},fn=Rt.Cropper,Hi=function(){function c(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Er(this,c),!r||!Lr.test(r.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=r,this.options=tt({},mi,te(s)&&s),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return _r(c,[{key:"init",value:function(){var s=this.element,t=s.tagName.toLowerCase(),i;if(!s[J]){if(s[J]=this,t==="img"){if(this.isImg=!0,i=s.getAttribute("src")||"",this.originalUrl=i,!i)return;i=s.src}else t==="canvas"&&window.HTMLCanvasElement&&(i=s.toDataURL());this.load(i)}}},{key:"load",value:function(s){var t=this;if(s){this.url=s,this.imageData={};var i=this.element,e=this.options;if(!e.rotatable&&!e.scalable&&(e.checkOrientation=!1),!e.checkOrientation||!window.ArrayBuffer){this.clone();return}if(kr.test(s)){Pr.test(s)?this.read(tn(s)):this.clone();return}var l=new XMLHttpRequest,h=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=h,l.onerror=h,l.ontimeout=h,l.onprogress=function(){l.getResponseHeader("content-type")!==vi&&l.abort()},l.onload=function(){t.read(l.response)},l.onloadend=function(){t.reloading=!1,t.xhr=null},e.checkCrossOrigin&&wi(s)&&i.crossOrigin&&(s=yi(s)),l.open("GET",s,!0),l.responseType="arraybuffer",l.withCredentials=i.crossOrigin==="use-credentials",l.send()}}},{key:"read",value:function(s){var t=this.options,i=this.imageData,e=rn(s),l=0,h=1,v=1;if(e>1){this.url=en(s,vi);var p=nn(e);l=p.rotate,h=p.scaleX,v=p.scaleY}t.rotatable&&(i.rotate=l),t.scalable&&(i.scaleX=h,i.scaleY=v),this.clone()}},{key:"clone",value:function(){var s=this.element,t=this.url,i=s.crossOrigin,e=t;this.options.checkCrossOrigin&&wi(t)&&(i||(i="anonymous"),e=yi(t)),this.crossOrigin=i,this.crossOriginUrl=e;var l=document.createElement("img");i&&(l.crossOrigin=i),l.src=e||t,l.alt=s.alt||"The image to crop",this.image=l,l.onload=this.start.bind(this),l.onerror=this.stop.bind(this),ht(l,li),s.parentNode.insertBefore(l,s.nextSibling)}},{key:"start",value:function(){var s=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var i=Rt.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Rt.navigator.userAgent),e=function(p,n){tt(s.imageData,{naturalWidth:p,naturalHeight:n,aspectRatio:p/n}),s.initialImageData=tt({},s.imageData),s.sizing=!1,s.sized=!0,s.build()};if(t.naturalWidth&&!i){e(t.naturalWidth,t.naturalHeight);return}var l=document.createElement("img"),h=document.body||document.documentElement;this.sizingImage=l,l.onload=function(){e(l.width,l.height),i||h.removeChild(l)},l.src=t.src,i||(l.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",h.appendChild(l))}},{key:"stop",value:function(){var s=this.image;s.onload=null,s.onerror=null,s.parentNode.removeChild(s),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var s=this.element,t=this.options,i=this.image,e=s.parentNode,l=document.createElement("div");l.innerHTML=Fr;var h=l.querySelector(".".concat(J,"-container")),v=h.querySelector(".".concat(J,"-canvas")),p=h.querySelector(".".concat(J,"-drag-box")),n=h.querySelector(".".concat(J,"-crop-box")),a=n.querySelector(".".concat(J,"-face"));this.container=e,this.cropper=h,this.canvas=v,this.dragBox=p,this.cropBox=n,this.viewBox=h.querySelector(".".concat(J,"-view-box")),this.face=a,v.appendChild(i),ht(s,mt),e.insertBefore(h,s.nextSibling),Ot(i,li),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,ht(n,mt),t.guides||ht(n.getElementsByClassName("".concat(J,"-dashed")),mt),t.center||ht(n.getElementsByClassName("".concat(J,"-center")),mt),t.background&&ht(h,"".concat(J,"-bg")),t.highlight||ht(a,Sr),t.cropBoxMovable&&(ht(a,ke),de(a,ue,Ye)),t.cropBoxResizable||(ht(n.getElementsByClassName("".concat(J,"-line")),mt),ht(n.getElementsByClassName("".concat(J,"-point")),mt)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),vt(t.ready)&&xt(s,di,t.ready,{once:!0}),ne(s,di)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var s=this.cropper.parentNode;s&&s.removeChild(this.cropper),Ot(this.element,mt)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=fn,c}},{key:"setDefaults",value:function(s){tt(mi,te(s)&&s)}}])}();tt(Hi.prototype,an,on,sn,ln,hn,cn);function un(c,r){return r.forEach(function(s){s&&typeof s!="string"&&!Array.isArray(s)&&Object.keys(s).forEach(function(t){if(t!=="default"&&!(t in c)){var i=Object.getOwnPropertyDescriptor(s,t);Object.defineProperty(c,t,i.get?i:{enumerable:!0,get:function(){return s[t]}})}})}),Object.freeze(c)}function zi(c,r){return new Promise(function(s,t){let i;return dn(c).then(function(e){try{return i=e,s(new Blob([r.slice(0,2),i,r.slice(2)],{type:"image/jpeg"}))}catch(l){return t(l)}},t)})}const dn=c=>new Promise((r,s)=>{const t=new FileReader;t.addEventListener("load",({target:{result:i}})=>{const e=new DataView(i);let l=0;if(e.getUint16(l)!==65496)return s("not a valid JPEG");for(l+=2;;){const h=e.getUint16(l);if(h===65498)break;const v=e.getUint16(l+2);if(h===65505&&e.getUint32(l+4)===1165519206){const p=l+10;let n;switch(e.getUint16(p)){case 18761:n=!0;break;case 19789:n=!1;break;default:return s("TIFF header contains invalid endian")}if(e.getUint16(p+2,n)!==42)return s("TIFF header contains invalid version");const a=e.getUint32(p+4,n),o=p+a+2+12*e.getUint16(p+a,n);for(let u=p+a+2;u<o;u+=12)if(e.getUint16(u,n)==274){if(e.getUint16(u+2,n)!==3)return s("Orientation data type is invalid");if(e.getUint32(u+4,n)!==1)return s("Orientation data count is invalid");e.setUint16(u+8,1,n);break}return r(i.slice(l,l+2+v))}l+=2+v}return r(new Blob)}),t.readAsArrayBuffer(c)});var ye={},pn={get exports(){return ye},set exports(c){ye=c}};(function(c){var r,s,t={};pn.exports=t,t.parse=function(i,e){for(var l=t.bin.readUshort,h=t.bin.readUint,v=0,p={},n=new Uint8Array(i),a=n.length-4;h(n,a)!=101010256;)a--;v=a,v+=4;var o=l(n,v+=4);l(n,v+=2);var u=h(n,v+=2),w=h(n,v+=4);v+=4,v=w;for(var _=0;_<o;_++){h(n,v),v+=4,v+=4,v+=4,h(n,v+=4),u=h(n,v+=4);var D=h(n,v+=4),A=l(n,v+=4),N=l(n,v+2),R=l(n,v+4);v+=6;var O=h(n,v+=8);v+=4,v+=A+N+R,t._readLocal(n,O,p,u,D,e)}return p},t._readLocal=function(i,e,l,h,v,p){var n=t.bin.readUshort,a=t.bin.readUint;a(i,e),n(i,e+=4),n(i,e+=2);var o=n(i,e+=2);a(i,e+=2),a(i,e+=4),e+=4;var u=n(i,e+=8),w=n(i,e+=2);e+=2;var _=t.bin.readUTF8(i,e,u);if(e+=u,e+=w,p)l[_]={size:v,csize:h};else{var D=new Uint8Array(i.buffer,e);if(o==0)l[_]=new Uint8Array(D.buffer.slice(e,e+h));else{if(o!=8)throw"unknown compression method: "+o;var A=new Uint8Array(v);t.inflateRaw(D,A),l[_]=A}}},t.inflateRaw=function(i,e){return t.F.inflate(i,e)},t.inflate=function(i,e){return i[0],i[1],t.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),e)},t.deflate=function(i,e){e==null&&(e={level:6});var l=0,h=new Uint8Array(50+Math.floor(1.1*i.length));h[l]=120,h[l+1]=156,l+=2,l=t.F.deflateRaw(i,h,l,e.level);var v=t.adler(i,0,i.length);return h[l+0]=v>>>24&255,h[l+1]=v>>>16&255,h[l+2]=v>>>8&255,h[l+3]=v>>>0&255,new Uint8Array(h.buffer,0,l+4)},t.deflateRaw=function(i,e){e==null&&(e={level:6});var l=new Uint8Array(50+Math.floor(1.1*i.length)),h=t.F.deflateRaw(i,l,h,e.level);return new Uint8Array(l.buffer,0,h)},t.encode=function(i,e){e==null&&(e=!1);var l=0,h=t.bin.writeUint,v=t.bin.writeUshort,p={};for(var n in i){var a=!t._noNeed(n)&&!e,o=i[n],u=t.crc.crc(o,0,o.length);p[n]={cpr:a,usize:o.length,crc:u,file:a?t.deflateRaw(o):o}}for(var n in p)l+=p[n].file.length+30+46+2*t.bin.sizeUTF8(n);l+=22;var w=new Uint8Array(l),_=0,D=[];for(var n in p){var A=p[n];D.push(_),_=t._writeHeader(w,_,n,A,0)}var N=0,R=_;for(var n in p)A=p[n],D.push(_),_=t._writeHeader(w,_,n,A,1,D[N++]);var O=_-R;return h(w,_,101010256),_+=4,v(w,_+=4,N),v(w,_+=2,N),h(w,_+=2,O),h(w,_+=4,R),_+=4,_+=2,w.buffer},t._noNeed=function(i){var e=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(e)!=-1},t._writeHeader=function(i,e,l,h,v,p){var n=t.bin.writeUint,a=t.bin.writeUshort,o=h.file;return n(i,e,v==0?67324752:33639248),e+=4,v==1&&(e+=2),a(i,e,20),a(i,e+=2,0),a(i,e+=2,h.cpr?8:0),n(i,e+=2,0),n(i,e+=4,h.crc),n(i,e+=4,o.length),n(i,e+=4,h.usize),a(i,e+=4,t.bin.sizeUTF8(l)),a(i,e+=2,0),e+=2,v==1&&(e+=2,e+=2,n(i,e+=6,p),e+=4),e+=t.bin.writeUTF8(i,e,l),v==0&&(i.set(o,e),e+=o.length),e},t.crc={table:function(){for(var i=new Uint32Array(256),e=0;e<256;e++){for(var l=e,h=0;h<8;h++)1&l?l=3988292384^l>>>1:l>>>=1;i[e]=l}return i}(),update:function(i,e,l,h){for(var v=0;v<h;v++)i=t.crc.table[255&(i^e[l+v])]^i>>>8;return i},crc:function(i,e,l){return 4294967295^t.crc.update(4294967295,i,e,l)}},t.adler=function(i,e,l){for(var h=1,v=0,p=e,n=e+l;p<n;){for(var a=Math.min(p+5552,n);p<a;)v+=h+=i[p++];h%=65521,v%=65521}return v<<16|h},t.bin={readUshort:function(i,e){return i[e]|i[e+1]<<8},writeUshort:function(i,e,l){i[e]=255&l,i[e+1]=l>>8&255},readUint:function(i,e){return 16777216*i[e+3]+(i[e+2]<<16|i[e+1]<<8|i[e])},writeUint:function(i,e,l){i[e]=255&l,i[e+1]=l>>8&255,i[e+2]=l>>16&255,i[e+3]=l>>24&255},readASCII:function(i,e,l){for(var h="",v=0;v<l;v++)h+=String.fromCharCode(i[e+v]);return h},writeASCII:function(i,e,l){for(var h=0;h<l.length;h++)i[e+h]=l.charCodeAt(h)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,e,l){for(var h,v="",p=0;p<l;p++)v+="%"+t.bin.pad(i[e+p].toString(16));try{h=decodeURIComponent(v)}catch{return t.bin.readASCII(i,e,l)}return h},writeUTF8:function(i,e,l){for(var h=l.length,v=0,p=0;p<h;p++){var n=l.charCodeAt(p);if(!(4294967168&n))i[e+v]=n,v++;else if(!(4294965248&n))i[e+v]=192|n>>6,i[e+v+1]=128|n>>0&63,v+=2;else if(!(4294901760&n))i[e+v]=224|n>>12,i[e+v+1]=128|n>>6&63,i[e+v+2]=128|n>>0&63,v+=3;else{if(4292870144&n)throw"e";i[e+v]=240|n>>18,i[e+v+1]=128|n>>12&63,i[e+v+2]=128|n>>6&63,i[e+v+3]=128|n>>0&63,v+=4}}return v},sizeUTF8:function(i){for(var e=i.length,l=0,h=0;h<e;h++){var v=i.charCodeAt(h);if(!(4294967168&v))l++;else if(!(4294965248&v))l+=2;else if(!(4294901760&v))l+=3;else{if(4292870144&v)throw"e";l+=4}}return l}},t.F={},t.F.deflateRaw=function(i,e,l,h){var v=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][h],p=t.F.U,n=t.F._goodIndex;t.F._hash;var a=t.F._putsE,o=0,u=l<<3,w=0,_=i.length;if(h==0){for(;o<_;)a(e,u,o+(M=Math.min(65535,_-o))==_?1:0),u=t.F._copyExact(i,o,M,e,u+8),o+=M;return u>>>3}var D=p.lits,A=p.strt,N=p.prev,R=0,O=0,k=0,d=0,E=0,f=0;for(_>2&&(A[f=t.F._hash(i,0)]=0),o=0;o<_;o++){if(E=f,o+1<_-2){f=t.F._hash(i,o+1);var g=o+1&32767;N[g]=A[f],A[f]=g}if(w<=o){(R>14e3||O>26697)&&_-o>100&&(w<o&&(D[R]=o-w,R+=2,w=o),u=t.F._writeBlock(o==_-1||w==_?1:0,D,R,d,i,k,o-k,e,u),R=O=d=0,k=o);var y=0;o<_-2&&(y=t.F._bestMatch(i,o,N,E,Math.min(v[2],_-o),v[3]));var M=y>>>16,C=65535&y;if(y!=0){C=65535&y;var I=n(M=y>>>16,p.of0);p.lhst[257+I]++;var x=n(C,p.df0);p.dhst[x]++,d+=p.exb[I]+p.dxb[x],D[R]=M<<23|o-w,D[R+1]=C<<16|I<<8|x,R+=2,w=o+M}else p.lhst[i[o]]++;O++}}for(k==o&&i.length!=0||(w<o&&(D[R]=o-w,R+=2,w=o),u=t.F._writeBlock(1,D,R,d,i,k,o-k,e,u),R=0,O=0,R=O=d=0,k=o);7&u;)u++;return u>>>3},t.F._bestMatch=function(i,e,l,h,v,p){var n=32767&e,a=l[n],o=n-a+32768&32767;if(a==n||h!=t.F._hash(i,e-o))return 0;for(var u=0,w=0,_=Math.min(32767,e);o<=_&&--p!=0&&a!=n;){if(u==0||i[e+u]==i[e+u-o]){var D=t.F._howLong(i,e,o);if(D>u){if(w=o,(u=D)>=v)break;o+2<D&&(D=o+2);for(var A=0,N=0;N<D-2;N++){var R=e-o+N+32768&32767,O=R-l[R]+32768&32767;O>A&&(A=O,a=R)}}}o+=(n=a)-(a=l[n])+32768&32767}return u<<16|w},t.F._howLong=function(i,e,l){if(i[e]!=i[e-l]||i[e+1]!=i[e+1-l]||i[e+2]!=i[e+2-l])return 0;var h=e,v=Math.min(i.length,e+258);for(e+=3;e<v&&i[e]==i[e-l];)e++;return e-h},t.F._hash=function(i,e){return(i[e]<<8|i[e+1])+(i[e+2]<<4)&65535},t.saved=0,t.F._writeBlock=function(i,e,l,h,v,p,n,a,o){var u,w,_,D,A,N,R,O,k,d=t.F.U,E=t.F._putsF,f=t.F._putsE;d.lhst[256]++,w=(u=t.F.getTrees())[0],_=u[1],D=u[2],A=u[3],N=u[4],R=u[5],O=u[6],k=u[7];var g=32+(o+3&7?8-(o+3&7):0)+(n<<3),y=h+t.F.contSize(d.fltree,d.lhst)+t.F.contSize(d.fdtree,d.dhst),M=h+t.F.contSize(d.ltree,d.lhst)+t.F.contSize(d.dtree,d.dhst);M+=14+3*R+t.F.contSize(d.itree,d.ihst)+(2*d.ihst[16]+3*d.ihst[17]+7*d.ihst[18]);for(var C=0;C<286;C++)d.lhst[C]=0;for(C=0;C<30;C++)d.dhst[C]=0;for(C=0;C<19;C++)d.ihst[C]=0;var I=g<y&&g<M?0:y<M?1:2;if(E(a,o,i),E(a,o+1,I),o+=3,I==0){for(;7&o;)o++;o=t.F._copyExact(v,p,n,a,o)}else{var x,T;if(I==1&&(x=d.fltree,T=d.fdtree),I==2){t.F.makeCodes(d.ltree,w),t.F.revCodes(d.ltree,w),t.F.makeCodes(d.dtree,_),t.F.revCodes(d.dtree,_),t.F.makeCodes(d.itree,D),t.F.revCodes(d.itree,D),x=d.ltree,T=d.dtree,f(a,o,A-257),f(a,o+=5,N-1),f(a,o+=5,R-4),o+=4;for(var b=0;b<R;b++)f(a,o+3*b,d.itree[1+(d.ordr[b]<<1)]);o+=3*R,o=t.F._codeTiny(O,d.itree,a,o),o=t.F._codeTiny(k,d.itree,a,o)}for(var m=p,P=0;P<l;P+=2){for(var S=e[P],L=S>>>23,z=m+(8388607&S);m<z;)o=t.F._writeLit(v[m++],x,a,o);if(L!=0){var B=e[P+1],H=B>>16,F=B>>8&255,U=255&B;f(a,o=t.F._writeLit(257+F,x,a,o),L-d.of0[F]),o+=d.exb[F],E(a,o=t.F._writeLit(U,T,a,o),H-d.df0[U]),o+=d.dxb[U],m+=L}}o=t.F._writeLit(256,x,a,o)}return o},t.F._copyExact=function(i,e,l,h,v){var p=v>>>3;return h[p]=l,h[p+1]=l>>>8,h[p+2]=255-h[p],h[p+3]=255-h[p+1],p+=4,h.set(new Uint8Array(i.buffer,e,l),p),v+(l+4<<3)},t.F.getTrees=function(){for(var i=t.F.U,e=t.F._hufTree(i.lhst,i.ltree,15),l=t.F._hufTree(i.dhst,i.dtree,15),h=[],v=t.F._lenCodes(i.ltree,h),p=[],n=t.F._lenCodes(i.dtree,p),a=0;a<h.length;a+=2)i.ihst[h[a]]++;for(a=0;a<p.length;a+=2)i.ihst[p[a]]++;for(var o=t.F._hufTree(i.ihst,i.itree,7),u=19;u>4&&i.itree[1+(i.ordr[u-1]<<1)]==0;)u--;return[e,l,o,v,n,u,h,p]},t.F.getSecond=function(i){for(var e=[],l=0;l<i.length;l+=2)e.push(i[l+1]);return e},t.F.nonZero=function(i){for(var e="",l=0;l<i.length;l+=2)i[l+1]!=0&&(e+=(l>>1)+",");return e},t.F.contSize=function(i,e){for(var l=0,h=0;h<e.length;h++)l+=e[h]*i[1+(h<<1)];return l},t.F._codeTiny=function(i,e,l,h){for(var v=0;v<i.length;v+=2){var p=i[v],n=i[v+1];h=t.F._writeLit(p,e,l,h);var a=p==16?2:p==17?3:7;p>15&&(t.F._putsE(l,h,n,a),h+=a)}return h},t.F._lenCodes=function(i,e){for(var l=i.length;l!=2&&i[l-1]==0;)l-=2;for(var h=0;h<l;h+=2){var v=i[h+1],p=h+3<l?i[h+3]:-1,n=h+5<l?i[h+5]:-1,a=h==0?-1:i[h-1];if(v==0&&p==v&&n==v){for(var o=h+5;o+2<l&&i[o+2]==v;)o+=2;(u=Math.min(o+1-h>>>1,138))<11?e.push(17,u-3):e.push(18,u-11),h+=2*u-2}else if(v==a&&p==v&&n==v){for(o=h+5;o+2<l&&i[o+2]==v;)o+=2;var u=Math.min(o+1-h>>>1,6);e.push(16,u-3),h+=2*u-2}else e.push(v,0)}return l>>>1},t.F._hufTree=function(i,e,l){var h=[],v=i.length,p=e.length,n=0;for(n=0;n<p;n+=2)e[n]=0,e[n+1]=0;for(n=0;n<v;n++)i[n]!=0&&h.push({lit:n,f:i[n]});var a=h.length,o=h.slice(0);if(a==0)return 0;if(a==1){var u=h[0].lit;return o=u==0?1:0,e[1+(u<<1)]=1,e[1+(o<<1)]=1,1}h.sort(function(O,k){return O.f-k.f});var w=h[0],_=h[1],D=0,A=1,N=2;for(h[0]={lit:-1,f:w.f+_.f,l:w,r:_,d:0};A!=a-1;)w=D!=A&&(N==a||h[D].f<h[N].f)?h[D++]:h[N++],_=D!=A&&(N==a||h[D].f<h[N].f)?h[D++]:h[N++],h[A++]={lit:-1,f:w.f+_.f,l:w,r:_};var R=t.F.setDepth(h[A-1],0);for(R>l&&(t.F.restrictDepth(o,l,R),R=l),n=0;n<a;n++)e[1+(o[n].lit<<1)]=o[n].d;return R},t.F.setDepth=function(i,e){return i.lit!=-1?(i.d=e,e):Math.max(t.F.setDepth(i.l,e+1),t.F.setDepth(i.r,e+1))},t.F.restrictDepth=function(i,e,l){var h=0,v=1<<l-e,p=0;for(i.sort(function(a,o){return o.d==a.d?a.f-o.f:o.d-a.d}),h=0;h<i.length&&i[h].d>e;h++){var n=i[h].d;i[h].d=e,p+=v-(1<<l-n)}for(p>>>=l-e;p>0;)(n=i[h].d)<e?(i[h].d++,p-=1<<e-n-1):h++;for(;h>=0;h--)i[h].d==e&&p<0&&(i[h].d--,p++);p!=0&&console.log("debt left")},t.F._goodIndex=function(i,e){var l=0;return e[16|l]<=i&&(l|=16),e[8|l]<=i&&(l|=8),e[4|l]<=i&&(l|=4),e[2|l]<=i&&(l|=2),e[1|l]<=i&&(l|=1),l},t.F._writeLit=function(i,e,l,h){return t.F._putsF(l,h,e[i<<1]),h+e[1+(i<<1)]},t.F.inflate=function(i,e){var l=Uint8Array;if(i[0]==3&&i[1]==0)return e||new l(0);var h=t.F,v=h._bitsF,p=h._bitsE,n=h._decodeTiny,a=h.makeCodes,o=h.codes2map,u=h._get17,w=h.U,_=e==null;_&&(e=new l(i.length>>>2<<3));for(var D,A,N=0,R=0,O=0,k=0,d=0,E=0,f=0,g=0,y=0;N==0;)if(N=v(i,y,1),R=v(i,y+1,2),y+=3,R!=0){if(_&&(e=t.F._check(e,g+(1<<17))),R==1&&(D=w.flmap,A=w.fdmap,E=511,f=31),R==2){O=p(i,y,5)+257,k=p(i,y+5,5)+1,d=p(i,y+10,4)+4,y+=14;for(var M=0;M<38;M+=2)w.itree[M]=0,w.itree[M+1]=0;var C=1;for(M=0;M<d;M++){var I=p(i,y+3*M,3);w.itree[1+(w.ordr[M]<<1)]=I,I>C&&(C=I)}y+=3*d,a(w.itree,C),o(w.itree,C,w.imap),D=w.lmap,A=w.dmap,y=n(w.imap,(1<<C)-1,O+k,i,y,w.ttree);var x=h._copyOut(w.ttree,0,O,w.ltree);E=(1<<x)-1;var T=h._copyOut(w.ttree,O,k,w.dtree);f=(1<<T)-1,a(w.ltree,x),o(w.ltree,x,D),a(w.dtree,T),o(w.dtree,T,A)}for(;;){var b=D[u(i,y)&E];y+=15&b;var m=b>>>4;if(!(m>>>8))e[g++]=m;else{if(m==256)break;var P=g+m-254;if(m>264){var S=w.ldef[m-257];P=g+(S>>>3)+p(i,y,7&S),y+=7&S}var L=A[u(i,y)&f];y+=15&L;var z=L>>>4,B=w.ddef[z],H=(B>>>4)+v(i,y,15&B);for(y+=15&B,_&&(e=t.F._check(e,g+(1<<17)));g<P;)e[g]=e[g++-H],e[g]=e[g++-H],e[g]=e[g++-H],e[g]=e[g++-H];g=P}}}else{7&y&&(y+=8-(7&y));var F=4+(y>>>3),U=i[F-4]|i[F-3]<<8;_&&(e=t.F._check(e,g+U)),e.set(new l(i.buffer,i.byteOffset+F,U),g),y=F+U<<3,g+=U}return e.length==g?e:e.slice(0,g)},t.F._check=function(i,e){var l=i.length;if(e<=l)return i;var h=new Uint8Array(Math.max(l<<1,e));return h.set(i,0),h},t.F._decodeTiny=function(i,e,l,h,v,p){for(var n=t.F._bitsE,a=t.F._get17,o=0;o<l;){var u=i[a(h,v)&e];v+=15&u;var w=u>>>4;if(w<=15)p[o]=w,o++;else{var _=0,D=0;w==16?(D=3+n(h,v,2),v+=2,_=p[o-1]):w==17?(D=3+n(h,v,3),v+=3):w==18&&(D=11+n(h,v,7),v+=7);for(var A=o+D;o<A;)p[o]=_,o++}}return v},t.F._copyOut=function(i,e,l,h){for(var v=0,p=0,n=h.length>>>1;p<l;){var a=i[p+e];h[p<<1]=0,h[1+(p<<1)]=a,a>v&&(v=a),p++}for(;p<n;)h[p<<1]=0,h[1+(p<<1)]=0,p++;return v},t.F.makeCodes=function(i,e){for(var l,h,v,p,n=t.F.U,a=i.length,o=n.bl_count,u=0;u<=e;u++)o[u]=0;for(u=1;u<a;u+=2)o[i[u]]++;var w=n.next_code;for(l=0,o[0]=0,h=1;h<=e;h++)l=l+o[h-1]<<1,w[h]=l;for(v=0;v<a;v+=2)(p=i[v+1])!=0&&(i[v]=w[p],w[p]++)},t.F.codes2map=function(i,e,l){for(var h=i.length,v=t.F.U.rev15,p=0;p<h;p+=2)if(i[p+1]!=0)for(var n=p>>1,a=i[p+1],o=n<<4|a,u=e-a,w=i[p]<<u,_=w+(1<<u);w!=_;)l[v[w]>>>15-e]=o,w++},t.F.revCodes=function(i,e){for(var l=t.F.U.rev15,h=15-e,v=0;v<i.length;v+=2){var p=i[v]<<e-i[v+1];i[v]=l[p]>>>h}},t.F._putsE=function(i,e,l){l<<=7&e;var h=e>>>3;i[h]|=l,i[h+1]|=l>>>8},t.F._putsF=function(i,e,l){l<<=7&e;var h=e>>>3;i[h]|=l,i[h+1]|=l>>>8,i[h+2]|=l>>>16},t.F._bitsE=function(i,e,l){return(i[e>>>3]|i[1+(e>>>3)]<<8)>>>(7&e)&(1<<l)-1},t.F._bitsF=function(i,e,l){return(i[e>>>3]|i[1+(e>>>3)]<<8|i[2+(e>>>3)]<<16)>>>(7&e)&(1<<l)-1},t.F._get17=function(i,e){return(i[e>>>3]|i[1+(e>>>3)]<<8|i[2+(e>>>3)]<<16)>>>(7&e)},t.F._get25=function(i,e){return(i[e>>>3]|i[1+(e>>>3)]<<8|i[2+(e>>>3)]<<16|i[3+(e>>>3)]<<24)>>>(7&e)},t.F.U=(r=Uint16Array,s=Uint32Array,{next_code:new r(16),bl_count:new r(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new r(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new s(32),flmap:new r(512),fltree:[],fdmap:new r(32),fdtree:[],lmap:new r(32768),ltree:[],ttree:[],dmap:new r(32768),dtree:[],imap:new r(512),itree:[],rev15:new r(32768),lhst:new s(286),dhst:new s(30),ihst:new s(19),lits:new s(15e3),strt:new r(65536),prev:new r(32768)}),function(){for(var i=t.F.U,e=0;e<32768;e++){var l=e;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,i.rev15[e]=(l>>>16|l<<16)>>>17}function h(v,p,n){for(;p--!=0;)v.push(0,n)}for(e=0;e<32;e++)i.ldef[e]=i.of0[e]<<3|i.exb[e],i.ddef[e]=i.df0[e]<<4|i.dxb[e];h(i.fltree,144,8),h(i.fltree,112,9),h(i.fltree,24,7),h(i.fltree,8,8),t.F.makeCodes(i.fltree,9),t.F.codes2map(i.fltree,9,i.flmap),t.F.revCodes(i.fltree,9),h(i.fdtree,32,5),t.F.makeCodes(i.fdtree,5),t.F.codes2map(i.fdtree,5,i.fdmap),t.F.revCodes(i.fdtree,5),h(i.itree,19,0),h(i.ltree,286,0),h(i.dtree,30,0),h(i.ttree,320,0)}()})();var gn=un({__proto__:null,default:ye},[ye]);const Dt=function(){var c={nextZero(n,a){for(;n[a]!=0;)a++;return a},readUshort:(n,a)=>n[a]<<8|n[a+1],writeUshort(n,a,o){n[a]=o>>8&255,n[a+1]=255&o},readUint:(n,a)=>16777216*n[a]+(n[a+1]<<16|n[a+2]<<8|n[a+3]),writeUint(n,a,o){n[a]=o>>24&255,n[a+1]=o>>16&255,n[a+2]=o>>8&255,n[a+3]=255&o},readASCII(n,a,o){let u="";for(let w=0;w<o;w++)u+=String.fromCharCode(n[a+w]);return u},writeASCII(n,a,o){for(let u=0;u<o.length;u++)n[a+u]=o.charCodeAt(u)},readBytes(n,a,o){const u=[];for(let w=0;w<o;w++)u.push(n[a+w]);return u},pad:n=>n.length<2?`0${n}`:n,readUTF8(n,a,o){let u,w="";for(let _=0;_<o;_++)w+=`%${c.pad(n[a+_].toString(16))}`;try{u=decodeURIComponent(w)}catch{return c.readASCII(n,a,o)}return u}};function r(n,a,o,u){const w=a*o,_=e(u),D=Math.ceil(a*_/8),A=new Uint8Array(4*w),N=new Uint32Array(A.buffer),{ctype:R}=u,{depth:O}=u,k=c.readUshort;if(R==6){const S=w<<2;if(O==8)for(var d=0;d<S;d+=4)A[d]=n[d],A[d+1]=n[d+1],A[d+2]=n[d+2],A[d+3]=n[d+3];if(O==16)for(d=0;d<S;d++)A[d]=n[d<<1]}else if(R==2){const S=u.tabs.tRNS;if(S==null){if(O==8)for(d=0;d<w;d++){var E=3*d;N[d]=255<<24|n[E+2]<<16|n[E+1]<<8|n[E]}if(O==16)for(d=0;d<w;d++)E=6*d,N[d]=255<<24|n[E+4]<<16|n[E+2]<<8|n[E]}else{var f=S[0];const L=S[1],z=S[2];if(O==8)for(d=0;d<w;d++){var g=d<<2;E=3*d,N[d]=255<<24|n[E+2]<<16|n[E+1]<<8|n[E],n[E]==f&&n[E+1]==L&&n[E+2]==z&&(A[g+3]=0)}if(O==16)for(d=0;d<w;d++)g=d<<2,E=6*d,N[d]=255<<24|n[E+4]<<16|n[E+2]<<8|n[E],k(n,E)==f&&k(n,E+2)==L&&k(n,E+4)==z&&(A[g+3]=0)}}else if(R==3){const S=u.tabs.PLTE,L=u.tabs.tRNS,z=L?L.length:0;if(O==1)for(var y=0;y<o;y++){var M=y*D,C=y*a;for(d=0;d<a;d++){g=C+d<<2;var I=3*(x=n[M+(d>>3)]>>7-((7&d)<<0)&1);A[g]=S[I],A[g+1]=S[I+1],A[g+2]=S[I+2],A[g+3]=x<z?L[x]:255}}if(O==2)for(y=0;y<o;y++)for(M=y*D,C=y*a,d=0;d<a;d++)g=C+d<<2,I=3*(x=n[M+(d>>2)]>>6-((3&d)<<1)&3),A[g]=S[I],A[g+1]=S[I+1],A[g+2]=S[I+2],A[g+3]=x<z?L[x]:255;if(O==4)for(y=0;y<o;y++)for(M=y*D,C=y*a,d=0;d<a;d++)g=C+d<<2,I=3*(x=n[M+(d>>1)]>>4-((1&d)<<2)&15),A[g]=S[I],A[g+1]=S[I+1],A[g+2]=S[I+2],A[g+3]=x<z?L[x]:255;if(O==8)for(d=0;d<w;d++){var x;g=d<<2,I=3*(x=n[d]),A[g]=S[I],A[g+1]=S[I+1],A[g+2]=S[I+2],A[g+3]=x<z?L[x]:255}}else if(R==4){if(O==8)for(d=0;d<w;d++){g=d<<2;var T=n[b=d<<1];A[g]=T,A[g+1]=T,A[g+2]=T,A[g+3]=n[b+1]}if(O==16)for(d=0;d<w;d++){var b;g=d<<2,T=n[b=d<<2],A[g]=T,A[g+1]=T,A[g+2]=T,A[g+3]=n[b+2]}}else if(R==0)for(f=u.tabs.tRNS?u.tabs.tRNS:-1,y=0;y<o;y++){const S=y*D,L=y*a;if(O==1)for(var m=0;m<a;m++){var P=(T=255*(n[S+(m>>>3)]>>>7-(7&m)&1))==255*f?0:255;N[L+m]=P<<24|T<<16|T<<8|T}else if(O==2)for(m=0;m<a;m++)P=(T=85*(n[S+(m>>>2)]>>>6-((3&m)<<1)&3))==85*f?0:255,N[L+m]=P<<24|T<<16|T<<8|T;else if(O==4)for(m=0;m<a;m++)P=(T=17*(n[S+(m>>>1)]>>>4-((1&m)<<2)&15))==17*f?0:255,N[L+m]=P<<24|T<<16|T<<8|T;else if(O==8)for(m=0;m<a;m++)P=(T=n[S+m])==f?0:255,N[L+m]=P<<24|T<<16|T<<8|T;else if(O==16)for(m=0;m<a;m++)T=n[S+(m<<1)],P=k(n,S+(m<<1))==f?0:255,N[L+m]=P<<24|T<<16|T<<8|T}return A}function s(n,a,o,u){const w=e(n),_=Math.ceil(o*w/8),D=new Uint8Array((_+1+n.interlace)*u);return a=n.tabs.CgBI?i(a,D):t(a,D),n.interlace==0?a=l(a,n,0,o,u):n.interlace==1&&(a=function(N,R){const O=R.width,k=R.height,d=e(R),E=d>>3,f=Math.ceil(O*d/8),g=new Uint8Array(k*f);let y=0;const M=[0,0,4,0,2,0,1],C=[0,4,0,2,0,1,0],I=[8,8,8,4,4,2,2],x=[8,8,4,4,2,2,1];let T=0;for(;T<7;){const m=I[T],P=x[T];let S=0,L=0,z=M[T];for(;z<k;)z+=m,L++;let B=C[T];for(;B<O;)B+=P,S++;const H=Math.ceil(S*d/8);l(N,R,y,S,L);let F=0,U=M[T];for(;U<k;){let W=C[T],K=y+F*H<<3;for(;W<O;){var b;if(d==1&&(b=(b=N[K>>3])>>7-(7&K)&1,g[U*f+(W>>3)]|=b<<7-((7&W)<<0)),d==2&&(b=(b=N[K>>3])>>6-(7&K)&3,g[U*f+(W>>2)]|=b<<6-((3&W)<<1)),d==4&&(b=(b=N[K>>3])>>4-(7&K)&15,g[U*f+(W>>1)]|=b<<4-((1&W)<<2)),d>=8){const V=U*f+W*E;for(let Y=0;Y<E;Y++)g[V+Y]=N[(K>>3)+Y]}K+=d,W+=P}F++,U+=m}S*L!=0&&(y+=L*(1+H)),T+=1}return g}(a,n)),a}function t(n,a){return i(new Uint8Array(n.buffer,2,n.length-6),a)}var i=function(){const n={H:{}};return n.H.N=function(a,o){const u=Uint8Array;let w,_,D=0,A=0,N=0,R=0,O=0,k=0,d=0,E=0,f=0;if(a[0]==3&&a[1]==0)return o||new u(0);const g=n.H,y=g.b,M=g.e,C=g.R,I=g.n,x=g.A,T=g.Z,b=g.m,m=o==null;for(m&&(o=new u(a.length>>>2<<5));D==0;)if(D=y(a,f,1),A=y(a,f+1,2),f+=3,A!=0){if(m&&(o=n.H.W(o,E+(1<<17))),A==1&&(w=b.J,_=b.h,k=511,d=31),A==2){N=M(a,f,5)+257,R=M(a,f+5,5)+1,O=M(a,f+10,4)+4,f+=14;let S=1;for(var P=0;P<38;P+=2)b.Q[P]=0,b.Q[P+1]=0;for(P=0;P<O;P++){const B=M(a,f+3*P,3);b.Q[1+(b.X[P]<<1)]=B,B>S&&(S=B)}f+=3*O,I(b.Q,S),x(b.Q,S,b.u),w=b.w,_=b.d,f=C(b.u,(1<<S)-1,N+R,a,f,b.v);const L=g.V(b.v,0,N,b.C);k=(1<<L)-1;const z=g.V(b.v,N,R,b.D);d=(1<<z)-1,I(b.C,L),x(b.C,L,w),I(b.D,z),x(b.D,z,_)}for(;;){const S=w[T(a,f)&k];f+=15&S;const L=S>>>4;if(!(L>>>8))o[E++]=L;else{if(L==256)break;{let z=E+L-254;if(L>264){const W=b.q[L-257];z=E+(W>>>3)+M(a,f,7&W),f+=7&W}const B=_[T(a,f)&d];f+=15&B;const H=B>>>4,F=b.c[H],U=(F>>>4)+y(a,f,15&F);for(f+=15&F;E<z;)o[E]=o[E++-U],o[E]=o[E++-U],o[E]=o[E++-U],o[E]=o[E++-U];E=z}}}}else{7&f&&(f+=8-(7&f));const S=4+(f>>>3),L=a[S-4]|a[S-3]<<8;m&&(o=n.H.W(o,E+L)),o.set(new u(a.buffer,a.byteOffset+S,L),E),f=S+L<<3,E+=L}return o.length==E?o:o.slice(0,E)},n.H.W=function(a,o){const u=a.length;if(o<=u)return a;const w=new Uint8Array(u<<1);return w.set(a,0),w},n.H.R=function(a,o,u,w,_,D){const A=n.H.e,N=n.H.Z;let R=0;for(;R<u;){const O=a[N(w,_)&o];_+=15&O;const k=O>>>4;if(k<=15)D[R]=k,R++;else{let d=0,E=0;k==16?(E=3+A(w,_,2),_+=2,d=D[R-1]):k==17?(E=3+A(w,_,3),_+=3):k==18&&(E=11+A(w,_,7),_+=7);const f=R+E;for(;R<f;)D[R]=d,R++}}return _},n.H.V=function(a,o,u,w){let _=0,D=0;const A=w.length>>>1;for(;D<u;){const N=a[D+o];w[D<<1]=0,w[1+(D<<1)]=N,N>_&&(_=N),D++}for(;D<A;)w[D<<1]=0,w[1+(D<<1)]=0,D++;return _},n.H.n=function(a,o){const u=n.H.m,w=a.length;let _,D,A,N;const R=u.j;for(var O=0;O<=o;O++)R[O]=0;for(O=1;O<w;O+=2)R[a[O]]++;const k=u.K;for(_=0,R[0]=0,D=1;D<=o;D++)_=_+R[D-1]<<1,k[D]=_;for(A=0;A<w;A+=2)N=a[A+1],N!=0&&(a[A]=k[N],k[N]++)},n.H.A=function(a,o,u){const w=a.length,_=n.H.m.r;for(let D=0;D<w;D+=2)if(a[D+1]!=0){const A=D>>1,N=a[D+1],R=A<<4|N,O=o-N;let k=a[D]<<O;const d=k+(1<<O);for(;k!=d;)u[_[k]>>>15-o]=R,k++}},n.H.l=function(a,o){const u=n.H.m.r,w=15-o;for(let _=0;_<a.length;_+=2){const D=a[_]<<o-a[_+1];a[_]=u[D]>>>w}},n.H.M=function(a,o,u){u<<=7&o;const w=o>>>3;a[w]|=u,a[w+1]|=u>>>8},n.H.I=function(a,o,u){u<<=7&o;const w=o>>>3;a[w]|=u,a[w+1]|=u>>>8,a[w+2]|=u>>>16},n.H.e=function(a,o,u){return(a[o>>>3]|a[1+(o>>>3)]<<8)>>>(7&o)&(1<<u)-1},n.H.b=function(a,o,u){return(a[o>>>3]|a[1+(o>>>3)]<<8|a[2+(o>>>3)]<<16)>>>(7&o)&(1<<u)-1},n.H.Z=function(a,o){return(a[o>>>3]|a[1+(o>>>3)]<<8|a[2+(o>>>3)]<<16)>>>(7&o)},n.H.i=function(a,o){return(a[o>>>3]|a[1+(o>>>3)]<<8|a[2+(o>>>3)]<<16|a[3+(o>>>3)]<<24)>>>(7&o)},n.H.m=function(){const a=Uint16Array,o=Uint32Array;return{K:new a(16),j:new a(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new a(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new o(32),J:new a(512),_:[],h:new a(32),$:[],w:new a(32768),C:[],v:[],d:new a(32768),D:[],u:new a(512),Q:[],r:new a(32768),s:new o(286),Y:new o(30),a:new o(19),t:new o(15e3),k:new a(65536),g:new a(32768)}}(),function(){const a=n.H.m;for(var o=0;o<32768;o++){let w=o;w=(2863311530&w)>>>1|(1431655765&w)<<1,w=(3435973836&w)>>>2|(858993459&w)<<2,w=(4042322160&w)>>>4|(252645135&w)<<4,w=(4278255360&w)>>>8|(16711935&w)<<8,a.r[o]=(w>>>16|w<<16)>>>17}function u(w,_,D){for(;_--!=0;)w.push(0,D)}for(o=0;o<32;o++)a.q[o]=a.S[o]<<3|a.T[o],a.c[o]=a.p[o]<<4|a.z[o];u(a._,144,8),u(a._,112,9),u(a._,24,7),u(a._,8,8),n.H.n(a._,9),n.H.A(a._,9,a.J),n.H.l(a._,9),u(a.$,32,5),n.H.n(a.$,5),n.H.A(a.$,5,a.h),n.H.l(a.$,5),u(a.Q,19,0),u(a.C,286,0),u(a.D,30,0),u(a.v,320,0)}(),n.H.N}();function e(n){return[1,null,3,1,2,null,4][n.ctype]*n.depth}function l(n,a,o,u,w){let _=e(a);const D=Math.ceil(u*_/8);let A,N;_=Math.ceil(_/8);let R=n[o],O=0;if(R>1&&(n[o]=[0,0,1][R-2]),R==3)for(O=_;O<D;O++)n[O+1]=n[O+1]+(n[O+1-_]>>>1)&255;for(let k=0;k<w;k++)if(A=o+k*D,N=A+k+1,R=n[N-1],O=0,R==0)for(;O<D;O++)n[A+O]=n[N+O];else if(R==1){for(;O<_;O++)n[A+O]=n[N+O];for(;O<D;O++)n[A+O]=n[N+O]+n[A+O-_]}else if(R==2)for(;O<D;O++)n[A+O]=n[N+O]+n[A+O-D];else if(R==3){for(;O<_;O++)n[A+O]=n[N+O]+(n[A+O-D]>>>1);for(;O<D;O++)n[A+O]=n[N+O]+(n[A+O-D]+n[A+O-_]>>>1)}else{for(;O<_;O++)n[A+O]=n[N+O]+h(0,n[A+O-D],0);for(;O<D;O++)n[A+O]=n[N+O]+h(n[A+O-_],n[A+O-D],n[A+O-_-D])}return n}function h(n,a,o){const u=n+a-o,w=u-n,_=u-a,D=u-o;return w*w<=_*_&&w*w<=D*D?n:_*_<=D*D?a:o}function v(n,a,o){o.width=c.readUint(n,a),a+=4,o.height=c.readUint(n,a),a+=4,o.depth=n[a],a++,o.ctype=n[a],a++,o.compress=n[a],a++,o.filter=n[a],a++,o.interlace=n[a],a++}function p(n,a,o,u,w,_,D,A,N){const R=Math.min(a,w),O=Math.min(o,_);let k=0,d=0;for(let T=0;T<O;T++)for(let b=0;b<R;b++)if(D>=0&&A>=0?(k=T*a+b<<2,d=(A+T)*w+D+b<<2):(k=(-A+T)*a-D+b<<2,d=T*w+b<<2),N==0)u[d]=n[k],u[d+1]=n[k+1],u[d+2]=n[k+2],u[d+3]=n[k+3];else if(N==1){var E=n[k+3]*.00392156862745098,f=n[k]*E,g=n[k+1]*E,y=n[k+2]*E,M=u[d+3]*(1/255),C=u[d]*M,I=u[d+1]*M,x=u[d+2]*M;const m=1-E,P=E+M*m,S=P==0?0:1/P;u[d+3]=255*P,u[d+0]=(f+C*m)*S,u[d+1]=(g+I*m)*S,u[d+2]=(y+x*m)*S}else if(N==2)E=n[k+3],f=n[k],g=n[k+1],y=n[k+2],M=u[d+3],C=u[d],I=u[d+1],x=u[d+2],E==M&&f==C&&g==I&&y==x?(u[d]=0,u[d+1]=0,u[d+2]=0,u[d+3]=0):(u[d]=f,u[d+1]=g,u[d+2]=y,u[d+3]=E);else if(N==3){if(E=n[k+3],f=n[k],g=n[k+1],y=n[k+2],M=u[d+3],C=u[d],I=u[d+1],x=u[d+2],E==M&&f==C&&g==I&&y==x)continue;if(E<220&&M>20)return!1}return!0}return{decode:function(a){const o=new Uint8Array(a);let u=8;const w=c,_=w.readUshort,D=w.readUint,A={tabs:{},frames:[]},N=new Uint8Array(o.length);let R,O=0,k=0;const d=[137,80,78,71,13,10,26,10];for(var E=0;E<8;E++)if(o[E]!=d[E])throw"The input is not a PNG file!";for(;u<o.length;){const T=w.readUint(o,u);u+=4;const b=w.readASCII(o,u,4);if(u+=4,b=="IHDR")v(o,u,A);else if(b=="iCCP"){for(var f=u;o[f]!=0;)f++;w.readASCII(o,u,f-u),o[f+1];const m=o.slice(f+2,u+T);let P=null;try{P=t(m)}catch{P=i(m)}A.tabs[b]=P}else if(b=="CgBI")A.tabs[b]=o.slice(u,u+4);else if(b=="IDAT"){for(E=0;E<T;E++)N[O+E]=o[u+E];O+=T}else if(b=="acTL")A.tabs[b]={num_frames:D(o,u),num_plays:D(o,u+4)},R=new Uint8Array(o.length);else if(b=="fcTL"){k!=0&&((x=A.frames[A.frames.length-1]).data=s(A,R.slice(0,k),x.rect.width,x.rect.height),k=0);const m={x:D(o,u+12),y:D(o,u+16),width:D(o,u+4),height:D(o,u+8)};let P=_(o,u+22);P=_(o,u+20)/(P==0?100:P);const S={rect:m,delay:Math.round(1e3*P),dispose:o[u+24],blend:o[u+25]};A.frames.push(S)}else if(b=="fdAT"){for(E=0;E<T-4;E++)R[k+E]=o[u+E+4];k+=T-4}else if(b=="pHYs")A.tabs[b]=[w.readUint(o,u),w.readUint(o,u+4),o[u+8]];else if(b=="cHRM")for(A.tabs[b]=[],E=0;E<8;E++)A.tabs[b].push(w.readUint(o,u+4*E));else if(b=="tEXt"||b=="zTXt"){A.tabs[b]==null&&(A.tabs[b]={});var g=w.nextZero(o,u),y=w.readASCII(o,u,g-u),M=u+T-g-1;if(b=="tEXt")I=w.readASCII(o,g+1,M);else{var C=t(o.slice(g+2,g+2+M));I=w.readUTF8(C,0,C.length)}A.tabs[b][y]=I}else if(b=="iTXt"){A.tabs[b]==null&&(A.tabs[b]={}),g=0,f=u,g=w.nextZero(o,f),y=w.readASCII(o,f,g-f);const m=o[f=g+1];var I;o[f+1],f+=2,g=w.nextZero(o,f),w.readASCII(o,f,g-f),f=g+1,g=w.nextZero(o,f),w.readUTF8(o,f,g-f),M=T-((f=g+1)-u),m==0?I=w.readUTF8(o,f,M):(C=t(o.slice(f,f+M)),I=w.readUTF8(C,0,C.length)),A.tabs[b][y]=I}else if(b=="PLTE")A.tabs[b]=w.readBytes(o,u,T);else if(b=="hIST"){const m=A.tabs.PLTE.length/3;for(A.tabs[b]=[],E=0;E<m;E++)A.tabs[b].push(_(o,u+2*E))}else if(b=="tRNS")A.ctype==3?A.tabs[b]=w.readBytes(o,u,T):A.ctype==0?A.tabs[b]=_(o,u):A.ctype==2&&(A.tabs[b]=[_(o,u),_(o,u+2),_(o,u+4)]);else if(b=="gAMA")A.tabs[b]=w.readUint(o,u)/1e5;else if(b=="sRGB")A.tabs[b]=o[u];else if(b=="bKGD")A.ctype==0||A.ctype==4?A.tabs[b]=[_(o,u)]:A.ctype==2||A.ctype==6?A.tabs[b]=[_(o,u),_(o,u+2),_(o,u+4)]:A.ctype==3&&(A.tabs[b]=o[u]);else if(b=="IEND")break;u+=T,w.readUint(o,u),u+=4}var x;return k!=0&&((x=A.frames[A.frames.length-1]).data=s(A,R.slice(0,k),x.rect.width,x.rect.height)),A.data=s(A,N,A.width,A.height),delete A.compress,delete A.interlace,delete A.filter,A},toRGBA8:function(a){const o=a.width,u=a.height;if(a.tabs.acTL==null)return[r(a.data,o,u,a).buffer];const w=[];a.frames[0].data==null&&(a.frames[0].data=a.data);const _=o*u*4,D=new Uint8Array(_),A=new Uint8Array(_),N=new Uint8Array(_);for(let O=0;O<a.frames.length;O++){const k=a.frames[O],d=k.rect.x,E=k.rect.y,f=k.rect.width,g=k.rect.height,y=r(k.data,f,g,a);if(O!=0)for(var R=0;R<_;R++)N[R]=D[R];if(k.blend==0?p(y,f,g,D,o,u,d,E,0):k.blend==1&&p(y,f,g,D,o,u,d,E,1),w.push(D.buffer.slice(0)),k.dispose!=0){if(k.dispose==1)p(A,f,g,D,o,u,d,E,0);else if(k.dispose==2)for(R=0;R<_;R++)D[R]=N[R]}}return w},_paeth:h,_copyTile:p,_bin:c}}();(function(){const{_copyTile:c}=Dt,{_bin:r}=Dt,s=Dt._paeth;var t={table:function(){const f=new Uint32Array(256);for(let g=0;g<256;g++){let y=g;for(let M=0;M<8;M++)1&y?y=3988292384^y>>>1:y>>>=1;f[g]=y}return f}(),update(f,g,y,M){for(let C=0;C<M;C++)f=t.table[255&(f^g[y+C])]^f>>>8;return f},crc:(f,g,y)=>4294967295^t.update(4294967295,f,g,y)};function i(f,g,y,M){g[y]+=f[0]*M>>4,g[y+1]+=f[1]*M>>4,g[y+2]+=f[2]*M>>4,g[y+3]+=f[3]*M>>4}function e(f){return Math.max(0,Math.min(255,f))}function l(f,g){const y=f[0]-g[0],M=f[1]-g[1],C=f[2]-g[2],I=f[3]-g[3];return y*y+M*M+C*C+I*I}function h(f,g,y,M,C,I,x){x==null&&(x=1);const T=M.length,b=[];for(var m=0;m<T;m++){const U=M[m];b.push([U>>>0&255,U>>>8&255,U>>>16&255,U>>>24&255])}for(m=0;m<T;m++){let U=4294967295;for(var P=0,S=0;S<T;S++){var L=l(b[m],b[S]);S!=m&&L<U&&(U=L,P=S)}}const z=new Uint32Array(C.buffer),B=new Int16Array(g*y*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(m=0;m<H.length;m++)H[m]=255*((H[m]+.5)/16-.5);for(let U=0;U<y;U++)for(let W=0;W<g;W++){var F;m=4*(U*g+W),x!=2?F=[e(f[m]+B[m]),e(f[m+1]+B[m+1]),e(f[m+2]+B[m+2]),e(f[m+3]+B[m+3])]:(L=H[4*(3&U)+(3&W)],F=[e(f[m]+L),e(f[m+1]+L),e(f[m+2]+L),e(f[m+3]+L)]),P=0;let K=16777215;for(S=0;S<T;S++){const G=l(F,b[S]);G<K&&(K=G,P=S)}const V=b[P],Y=[F[0]-V[0],F[1]-V[1],F[2]-V[2],F[3]-V[3]];x==1&&(W!=g-1&&i(Y,B,m+4,7),U!=y-1&&(W!=0&&i(Y,B,m+4*g-4,3),i(Y,B,m+4*g,5),W!=g-1&&i(Y,B,m+4*g+4,1))),I[m>>2]=P,z[m>>2]=M[P]}}function v(f,g,y,M,C){C==null&&(C={});const{crc:I}=t,x=r.writeUint,T=r.writeUshort,b=r.writeASCII;let m=8;const P=f.frames.length>1;let S,L=!1,z=33+(P?20:0);if(C.sRGB!=null&&(z+=13),C.pHYs!=null&&(z+=21),C.iCCP!=null&&(S=pako.deflate(C.iCCP),z+=21+S.length+4),f.ctype==3){for(var B=f.plte.length,H=0;H<B;H++)f.plte[H]>>>24!=255&&(L=!0);z+=8+3*B+4+(L?8+1*B+4:0)}for(var F=0;F<f.frames.length;F++)P&&(z+=38),z+=(V=f.frames[F]).cimg.length+12,F!=0&&(z+=4);z+=12;const U=new Uint8Array(z),W=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)U[H]=W[H];if(x(U,m,13),m+=4,b(U,m,"IHDR"),m+=4,x(U,m,g),m+=4,x(U,m,y),m+=4,U[m]=f.depth,m++,U[m]=f.ctype,m++,U[m]=0,m++,U[m]=0,m++,U[m]=0,m++,x(U,m,I(U,m-17,17)),m+=4,C.sRGB!=null&&(x(U,m,1),m+=4,b(U,m,"sRGB"),m+=4,U[m]=C.sRGB,m++,x(U,m,I(U,m-5,5)),m+=4),C.iCCP!=null){const Y=13+S.length;x(U,m,Y),m+=4,b(U,m,"iCCP"),m+=4,b(U,m,"ICC profile"),m+=11,m+=2,U.set(S,m),m+=S.length,x(U,m,I(U,m-(Y+4),Y+4)),m+=4}if(C.pHYs!=null&&(x(U,m,9),m+=4,b(U,m,"pHYs"),m+=4,x(U,m,C.pHYs[0]),m+=4,x(U,m,C.pHYs[1]),m+=4,U[m]=C.pHYs[2],m++,x(U,m,I(U,m-13,13)),m+=4),P&&(x(U,m,8),m+=4,b(U,m,"acTL"),m+=4,x(U,m,f.frames.length),m+=4,x(U,m,C.loop!=null?C.loop:0),m+=4,x(U,m,I(U,m-12,12)),m+=4),f.ctype==3){for(x(U,m,3*(B=f.plte.length)),m+=4,b(U,m,"PLTE"),m+=4,H=0;H<B;H++){const Y=3*H,G=f.plte[H],it=255&G,ot=G>>>8&255,zt=G>>>16&255;U[m+Y+0]=it,U[m+Y+1]=ot,U[m+Y+2]=zt}if(m+=3*B,x(U,m,I(U,m-3*B-4,3*B+4)),m+=4,L){for(x(U,m,B),m+=4,b(U,m,"tRNS"),m+=4,H=0;H<B;H++)U[m+H]=f.plte[H]>>>24&255;m+=B,x(U,m,I(U,m-B-4,B+4)),m+=4}}let K=0;for(F=0;F<f.frames.length;F++){var V=f.frames[F];P&&(x(U,m,26),m+=4,b(U,m,"fcTL"),m+=4,x(U,m,K++),m+=4,x(U,m,V.rect.width),m+=4,x(U,m,V.rect.height),m+=4,x(U,m,V.rect.x),m+=4,x(U,m,V.rect.y),m+=4,T(U,m,M[F]),m+=2,T(U,m,1e3),m+=2,U[m]=V.dispose,m++,U[m]=V.blend,m++,x(U,m,I(U,m-30,30)),m+=4);const Y=V.cimg;x(U,m,(B=Y.length)+(F==0?0:4)),m+=4;const G=m;b(U,m,F==0?"IDAT":"fdAT"),m+=4,F!=0&&(x(U,m,K++),m+=4),U.set(Y,m),m+=B,x(U,m,I(U,G,m-G)),m+=4}return x(U,m,0),m+=4,b(U,m,"IEND"),m+=4,x(U,m,I(U,m-4,4)),m+=4,U.buffer}function p(f,g,y){for(let M=0;M<f.frames.length;M++){const C=f.frames[M];C.rect.width;const I=C.rect.height,x=new Uint8Array(I*C.bpl+I);C.cimg=u(C.img,I,C.bpp,C.bpl,x,g,y)}}function n(f,g,y,M,C){const I=C[0],x=C[1],T=C[2],b=C[3],m=C[4],P=C[5];let S=6,L=8,z=255;for(var B=0;B<f.length;B++){const ft=new Uint8Array(f[B]);for(var H=ft.length,F=0;F<H;F+=4)z&=ft[F+3]}const U=z!=255,W=function(Z,$,ct,pt,rt,wt){const nt=[];for(var q=0;q<Z.length;q++){const gt=new Uint8Array(Z[q]),_t=new Uint32Array(gt.buffer);var yt;let At=0,Ut=0,Tt=$,Xt=ct,Me=pt?1:0;if(q!=0){const Zi=wt||pt||q==1||nt[q-2].dispose!=0?1:2;let De=0,$e=1e9;for(let ae=0;ae<Zi;ae++){var kt=new Uint8Array(Z[q-1-ae]);const Ji=new Uint32Array(Z[q-1-ae]);let Pt=$,Lt=ct,Kt=-1,oe=-1;for(let Yt=0;Yt<ct;Yt++)for(let jt=0;jt<$;jt++)_t[ut=Yt*$+jt]!=Ji[ut]&&(jt<Pt&&(Pt=jt),jt>Kt&&(Kt=jt),Yt<Lt&&(Lt=Yt),Yt>oe&&(oe=Yt));Kt==-1&&(Pt=Lt=Kt=oe=0),rt&&((1&Pt)==1&&Pt--,(1&Lt)==1&&Lt--);const qe=(Kt-Pt+1)*(oe-Lt+1);qe<$e&&($e=qe,De=ae,At=Pt,Ut=Lt,Tt=Kt-Pt+1,Xt=oe-Lt+1)}kt=new Uint8Array(Z[q-1-De]),De==1&&(nt[q-1].dispose=2),yt=new Uint8Array(Tt*Xt*4),c(kt,$,ct,yt,Tt,Xt,-At,-Ut,0),Me=c(gt,$,ct,yt,Tt,Xt,-At,-Ut,3)?1:0,Me==1?o(gt,$,ct,yt,{x:At,y:Ut,width:Tt,height:Xt}):c(gt,$,ct,yt,Tt,Xt,-At,-Ut,0)}else yt=gt.slice(0);nt.push({rect:{x:At,y:Ut,width:Tt,height:Xt},img:yt,blend:Me,dispose:0})}if(pt)for(q=0;q<nt.length;q++){if((Wt=nt[q]).blend==1)continue;const gt=Wt.rect,_t=nt[q-1].rect,At=Math.min(gt.x,_t.x),Ut=Math.min(gt.y,_t.y),Tt={x:At,y:Ut,width:Math.max(gt.x+gt.width,_t.x+_t.width)-At,height:Math.max(gt.y+gt.height,_t.y+_t.height)-Ut};nt[q-1].dispose=1,q-1!=0&&a(Z,$,ct,nt,q-1,Tt,rt),a(Z,$,ct,nt,q,Tt,rt)}let pe=0;if(Z.length!=1)for(var ut=0;ut<nt.length;ut++){var Wt;pe+=(Wt=nt[ut]).rect.width*Wt.rect.height}return nt}(f,g,y,I,x,T),K={},V=[],Y=[];if(M!=0){const ft=[];for(F=0;F<W.length;F++)ft.push(W[F].img.buffer);const Z=function(rt){let wt=0;for(var nt=0;nt<rt.length;nt++)wt+=rt[nt].byteLength;const q=new Uint8Array(wt);let yt=0;for(nt=0;nt<rt.length;nt++){const kt=new Uint8Array(rt[nt]),pe=kt.length;for(let ut=0;ut<pe;ut+=4){let Wt=kt[ut],gt=kt[ut+1],_t=kt[ut+2];const At=kt[ut+3];At==0&&(Wt=gt=_t=0),q[yt+ut]=Wt,q[yt+ut+1]=gt,q[yt+ut+2]=_t,q[yt+ut+3]=At}yt+=pe}return q.buffer}(ft),$=_(Z,M);for(F=0;F<$.plte.length;F++)V.push($.plte[F].est.rgba);let ct=0;for(F=0;F<W.length;F++){const pt=(it=W[F]).img.length;var G=new Uint8Array($.inds.buffer,ct>>2,pt>>2);Y.push(G);const rt=new Uint8Array($.abuf,ct,pt);P&&h(it.img,it.rect.width,it.rect.height,V,rt,G),it.img.set(rt),ct+=pt}}else for(B=0;B<W.length;B++){var it=W[B];const ft=new Uint32Array(it.img.buffer);var ot=it.rect.width;for(H=ft.length,G=new Uint8Array(H),Y.push(G),F=0;F<H;F++){const Z=ft[F];if(F!=0&&Z==ft[F-1])G[F]=G[F-1];else if(F>ot&&Z==ft[F-ot])G[F]=G[F-ot];else{let $=K[Z];if($==null&&(K[Z]=$=V.length,V.push(Z),V.length>=300))break;G[F]=$}}}const zt=V.length;for(zt<=256&&m==0&&(L=zt<=2?1:zt<=4?2:zt<=16?4:8,L=Math.max(L,b)),B=0;B<W.length;B++){(it=W[B]).rect.x,it.rect.y,ot=it.rect.width;const ft=it.rect.height;let Z=it.img;new Uint32Array(Z.buffer);let $=4*ot,ct=4;if(zt<=256&&m==0){$=Math.ceil(L*ot/8);var It=new Uint8Array($*ft);const pt=Y[B];for(let rt=0;rt<ft;rt++){F=rt*$;const wt=rt*ot;if(L==8)for(var et=0;et<ot;et++)It[F+et]=pt[wt+et];else if(L==4)for(et=0;et<ot;et++)It[F+(et>>1)]|=pt[wt+et]<<4-4*(1&et);else if(L==2)for(et=0;et<ot;et++)It[F+(et>>2)]|=pt[wt+et]<<6-2*(3&et);else if(L==1)for(et=0;et<ot;et++)It[F+(et>>3)]|=pt[wt+et]<<7-1*(7&et)}Z=It,S=3,ct=1}else if(U==0&&W.length==1){It=new Uint8Array(ot*ft*3);const pt=ot*ft;for(F=0;F<pt;F++){const rt=3*F,wt=4*F;It[rt]=Z[wt],It[rt+1]=Z[wt+1],It[rt+2]=Z[wt+2]}Z=It,S=2,ct=3,$=3*ot}it.img=Z,it.bpl=$,it.bpp=ct}return{ctype:S,depth:L,plte:V,frames:W}}function a(f,g,y,M,C,I,x){const T=Uint8Array,b=Uint32Array,m=new T(f[C-1]),P=new b(f[C-1]),S=C+1<f.length?new T(f[C+1]):null,L=new T(f[C]),z=new b(L.buffer);let B=g,H=y,F=-1,U=-1;for(let K=0;K<I.height;K++)for(let V=0;V<I.width;V++){const Y=I.x+V,G=I.y+K,it=G*g+Y,ot=z[it];ot==0||M[C-1].dispose==0&&P[it]==ot&&(S==null||S[4*it+3]!=0)||(Y<B&&(B=Y),Y>F&&(F=Y),G<H&&(H=G),G>U&&(U=G))}F==-1&&(B=H=F=U=0),x&&((1&B)==1&&B--,(1&H)==1&&H--),I={x:B,y:H,width:F-B+1,height:U-H+1};const W=M[C];W.rect=I,W.blend=1,W.img=new Uint8Array(I.width*I.height*4),M[C-1].dispose==0?(c(m,g,y,W.img,I.width,I.height,-I.x,-I.y,0),o(L,g,y,W.img,I)):c(L,g,y,W.img,I.width,I.height,-I.x,-I.y,0)}function o(f,g,y,M,C){c(f,g,y,M,C.width,C.height,-C.x,-C.y,2)}function u(f,g,y,M,C,I,x){const T=[];let b,m=[0,1,2,3,4];I!=-1?m=[I]:(g*M>5e5||y==1)&&(m=[0]),x&&(b={level:0});const P=gn;for(var S=0;S<m.length;S++){for(let B=0;B<g;B++)w(C,f,B,M,y,m[S]);T.push(P.deflate(C,b))}let L,z=1e9;for(S=0;S<T.length;S++)T[S].length<z&&(L=S,z=T[S].length);return T[L]}function w(f,g,y,M,C,I){const x=y*M;let T=x+y;if(f[T]=I,T++,I==0)if(M<500)for(var b=0;b<M;b++)f[T+b]=g[x+b];else f.set(new Uint8Array(g.buffer,x,M),T);else if(I==1){for(b=0;b<C;b++)f[T+b]=g[x+b];for(b=C;b<M;b++)f[T+b]=g[x+b]-g[x+b-C]+256&255}else if(y==0){for(b=0;b<C;b++)f[T+b]=g[x+b];if(I==2)for(b=C;b<M;b++)f[T+b]=g[x+b];if(I==3)for(b=C;b<M;b++)f[T+b]=g[x+b]-(g[x+b-C]>>1)+256&255;if(I==4)for(b=C;b<M;b++)f[T+b]=g[x+b]-s(g[x+b-C],0,0)+256&255}else{if(I==2)for(b=0;b<M;b++)f[T+b]=g[x+b]+256-g[x+b-M]&255;if(I==3){for(b=0;b<C;b++)f[T+b]=g[x+b]+256-(g[x+b-M]>>1)&255;for(b=C;b<M;b++)f[T+b]=g[x+b]+256-(g[x+b-M]+g[x+b-C]>>1)&255}if(I==4){for(b=0;b<C;b++)f[T+b]=g[x+b]+256-s(0,g[x+b-M],0)&255;for(b=C;b<M;b++)f[T+b]=g[x+b]+256-s(g[x+b-C],g[x+b-M],g[x+b-C-M])&255}}}function _(f,g){const y=new Uint8Array(f),M=y.slice(0),C=new Uint32Array(M.buffer),I=D(M,g),x=I[0],T=I[1],b=y.length,m=new Uint8Array(b>>2);let P;if(y.length<2e7)for(var S=0;S<b;S+=4)P=A(x,L=y[S]*(1/255),z=y[S+1]*(1/255),B=y[S+2]*(1/255),H=y[S+3]*(1/255)),m[S>>2]=P.ind,C[S>>2]=P.est.rgba;else for(S=0;S<b;S+=4){var L=y[S]*.00392156862745098,z=y[S+1]*(1/255),B=y[S+2]*(1/255),H=y[S+3]*(1/255);for(P=x;P.left;)P=N(P.est,L,z,B,H)<=0?P.left:P.right;m[S>>2]=P.ind,C[S>>2]=P.est.rgba}return{abuf:M.buffer,inds:m,plte:T}}function D(f,g,y){y==null&&(y=1e-4);const M=new Uint32Array(f.buffer),C={i0:0,i1:f.length,bst:null,est:null,tdst:0,left:null,right:null};C.bst=k(f,C.i0,C.i1),C.est=d(C.bst);const I=[C];for(;I.length<g;){let T=0,b=0;for(var x=0;x<I.length;x++)I[x].est.L>T&&(T=I[x].est.L,b=x);if(T<y)break;const m=I[b],P=R(f,M,m.i0,m.i1,m.est.e,m.est.eMq255);if(m.i0>=P||m.i1<=P){m.est.L=0;continue}const S={i0:m.i0,i1:P,bst:null,est:null,tdst:0,left:null,right:null};S.bst=k(f,S.i0,S.i1),S.est=d(S.bst);const L={i0:P,i1:m.i1,bst:null,est:null,tdst:0,left:null,right:null};for(L.bst={R:[],m:[],N:m.bst.N-S.bst.N},x=0;x<16;x++)L.bst.R[x]=m.bst.R[x]-S.bst.R[x];for(x=0;x<4;x++)L.bst.m[x]=m.bst.m[x]-S.bst.m[x];L.est=d(L.bst),m.left=S,m.right=L,I[b]=S,I.push(L)}for(I.sort((T,b)=>b.bst.N-T.bst.N),x=0;x<I.length;x++)I[x].ind=x;return[C,I]}function A(f,g,y,M,C){if(f.left==null)return f.tdst=function(S,L,z,B,H){const F=L-S[0],U=z-S[1],W=B-S[2],K=H-S[3];return F*F+U*U+W*W+K*K}(f.est.q,g,y,M,C),f;const I=N(f.est,g,y,M,C);let x=f.left,T=f.right;I>0&&(x=f.right,T=f.left);const b=A(x,g,y,M,C);if(b.tdst<=I*I)return b;const m=A(T,g,y,M,C);return m.tdst<b.tdst?m:b}function N(f,g,y,M,C){const{e:I}=f;return I[0]*g+I[1]*y+I[2]*M+I[3]*C-f.eMq}function R(f,g,y,M,C,I){for(M-=4;y<M;){for(;O(f,y,C)<=I;)y+=4;for(;O(f,M,C)>I;)M-=4;if(y>=M)break;const x=g[y>>2];g[y>>2]=g[M>>2],g[M>>2]=x,y+=4,M-=4}for(;O(f,y,C)>I;)y-=4;return y+4}function O(f,g,y){return f[g]*y[0]+f[g+1]*y[1]+f[g+2]*y[2]+f[g+3]*y[3]}function k(f,g,y){const M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C=[0,0,0,0],I=y-g>>2;for(let x=g;x<y;x+=4){const T=f[x]*.00392156862745098,b=f[x+1]*(1/255),m=f[x+2]*(1/255),P=f[x+3]*(1/255);C[0]+=T,C[1]+=b,C[2]+=m,C[3]+=P,M[0]+=T*T,M[1]+=T*b,M[2]+=T*m,M[3]+=T*P,M[5]+=b*b,M[6]+=b*m,M[7]+=b*P,M[10]+=m*m,M[11]+=m*P,M[15]+=P*P}return M[4]=M[1],M[8]=M[2],M[9]=M[6],M[12]=M[3],M[13]=M[7],M[14]=M[11],{R:M,m:C,N:I}}function d(f){const{R:g}=f,{m:y}=f,{N:M}=f,C=y[0],I=y[1],x=y[2],T=y[3],b=M==0?0:1/M,m=[g[0]-C*C*b,g[1]-C*I*b,g[2]-C*x*b,g[3]-C*T*b,g[4]-I*C*b,g[5]-I*I*b,g[6]-I*x*b,g[7]-I*T*b,g[8]-x*C*b,g[9]-x*I*b,g[10]-x*x*b,g[11]-x*T*b,g[12]-T*C*b,g[13]-T*I*b,g[14]-T*x*b,g[15]-T*T*b],P=m,S=E;let L=[Math.random(),Math.random(),Math.random(),Math.random()],z=0,B=0;if(M!=0)for(let F=0;F<16&&(L=S.multVec(P,L),B=Math.sqrt(S.dot(L,L)),L=S.sml(1/B,L),!(F!=0&&Math.abs(B-z)<1e-9));F++)z=B;const H=[C*b,I*b,x*b,T*b];return{Cov:m,q:H,e:L,L:z,eMq255:S.dot(S.sml(255,H),L),eMq:S.dot(L,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var E={multVec:(f,g)=>[f[0]*g[0]+f[1]*g[1]+f[2]*g[2]+f[3]*g[3],f[4]*g[0]+f[5]*g[1]+f[6]*g[2]+f[7]*g[3],f[8]*g[0]+f[9]*g[1]+f[10]*g[2]+f[11]*g[3],f[12]*g[0]+f[13]*g[1]+f[14]*g[2]+f[15]*g[3]],dot:(f,g)=>f[0]*g[0]+f[1]*g[1]+f[2]*g[2]+f[3]*g[3],sml:(f,g)=>[f*g[0],f*g[1],f*g[2],f*g[3]]};Dt.encode=function(g,y,M,C,I,x,T){C==null&&(C=0),T==null&&(T=!1);const b=n(g,y,M,C,[!1,!1,!1,0,T,!1]);return p(b,-1),v(b,y,M,I,x)},Dt.encodeLL=function(g,y,M,C,I,x,T,b){const m={ctype:0+(C==1?0:2)+(I==0?0:4),depth:x,frames:[]},P=(C+I)*x,S=P*y;for(let L=0;L<g.length;L++)m.frames.push({rect:{x:0,y:0,width:y,height:M},img:new Uint8Array(g[L]),blend:0,dispose:1,bpp:Math.ceil(P/8),bpl:Math.ceil(S/8)});return p(m,0,!0),v(m,y,M,T,b)},Dt.encode.compress=n,Dt.encode.dither=h,Dt.quantize=_,Dt.quantize.getKDtree=D,Dt.quantize.getNearest=A})();const Wi={toArrayBuffer(c,r){const s=c.width,t=c.height,i=s<<2,e=c.getContext("2d").getImageData(0,0,s,t),l=new Uint32Array(e.data.buffer),h=(32*s+31)/32<<2,v=h*t,p=122+v,n=new ArrayBuffer(p),a=new DataView(n),o=1<<20;let u,w,_,D,A=o,N=0,R=0,O=0;function k(f){a.setUint16(R,f,!0),R+=2}function d(f){a.setUint32(R,f,!0),R+=4}function E(f){R+=f}k(19778),d(p),E(4),d(122),d(108),d(s),d(-t>>>0),k(1),k(32),d(3),d(v),d(2835),d(2835),E(8),d(16711680),d(65280),d(255),d(4278190080),d(1466527264),function f(){for(;N<t&&A>0;){for(D=122+N*h,u=0;u<i;)A--,w=l[O++],_=w>>>24,a.setUint32(D+u,w<<8|_),u+=4;N++}O<l.length?(A=o,setTimeout(f,Wi._dly)):r(n)}()},toBlob(c,r){this.toArrayBuffer(c,s=>{r(new Blob([s],{type:"image/bmp"}))})},_dly:9};var bt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},vn={[bt.CHROME]:16384,[bt.FIREFOX]:11180,[bt.DESKTOP_SAFARI]:16384,[bt.IE]:8192,[bt.IOS]:4096,[bt.ETC]:8192};const Qe=typeof window<"u",Xi=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ae=Qe&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),mn=(Qe||Xi)&&(Ae&&Ae.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Yi=(Qe||Xi)&&(Ae&&Ae.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Ge(c,r,s=Date.now()){return new Promise(t=>{const i=c.split(","),e=i[0].match(/:(.*?);/)[1],l=globalThis.atob(i[1]);let h=l.length;const v=new Uint8Array(h);for(;h--;)v[h]=l.charCodeAt(h);const p=new Blob([v],{type:e});p.name=r,p.lastModified=s,t(p)})}function ji(c){return new Promise((r,s)=>{const t=new Yi;t.onload=()=>r(t.result),t.onerror=i=>s(i),t.readAsDataURL(c)})}function Vi(c){return new Promise((r,s)=>{const t=new Image;t.onload=()=>r(t),t.onerror=i=>s(i),t.src=c})}function $t(){if($t.cachedResult!==void 0)return $t.cachedResult;let c=bt.ETC;const{userAgent:r}=navigator;return/Chrom(e|ium)/i.test(r)?c=bt.CHROME:/iP(ad|od|hone)/i.test(r)&&/WebKit/i.test(r)?c=bt.IOS:/Safari/i.test(r)?c=bt.DESKTOP_SAFARI:/Firefox/i.test(r)?c=bt.FIREFOX:(/MSIE/i.test(r)||document.documentMode)&&(c=bt.IE),$t.cachedResult=c,$t.cachedResult}function Qi(c,r){const s=$t(),t=vn[s];let i=c,e=r,l=i*e;const h=i>e?e/i:i/e;for(;l>t*t;){const v=(t+i)/2,p=(t+e)/2;v<p?(e=p,i=p*h):(e=v*h,i=v),l=i*e}return{width:i,height:e}}function Ce(c,r){let s,t;try{if(s=new OffscreenCanvas(c,r),t=s.getContext("2d"),t===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{s=document.createElement("canvas"),t=s.getContext("2d")}return s.width=c,s.height=r,[s,t]}function Gi(c,r){const{width:s,height:t}=Qi(c.width,c.height),[i,e]=Ce(s,t);return r&&/jpe?g/.test(r)&&(e.fillStyle="white",e.fillRect(0,0,i.width,i.height)),e.drawImage(c,0,0,i.width,i.height),i}function be(){return be.cachedResult!==void 0||(be.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),be.cachedResult}function xe(c,r={}){return new Promise(function(s,t){let i,e;var l=function(){try{return e=Gi(i,r.fileType||c.type),s([i,e])}catch(v){return t(v)}},h=function(v){try{var p=function(n){try{throw n}catch(a){return t(a)}};try{let n;return ji(c).then(function(a){try{return n=a,Vi(n).then(function(o){try{return i=o,function(){try{return l()}catch(u){return t(u)}}()}catch(u){return p(u)}},p)}catch(o){return p(o)}},p)}catch(n){p(n)}}catch(n){return t(n)}};try{if(be()||[bt.DESKTOP_SAFARI,bt.MOBILE_SAFARI].includes($t()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(c).then(function(v){try{return i=v,l()}catch{return h()}},h)}catch{h()}})}function Ee(c,r,s,t,i=1){return new Promise(function(e,l){let h;if(r==="image/png"){let p,n,a;return p=c.getContext("2d"),{data:n}=p.getImageData(0,0,c.width,c.height),a=Dt.encode([n.buffer],c.width,c.height,4096*i),h=new Blob([a],{type:r}),h.name=s,h.lastModified=t,v.call(this)}{let p=function(){return v.call(this)};if(r==="image/bmp")return new Promise(n=>Wi.toBlob(c,n)).then((function(n){try{return h=n,h.name=s,h.lastModified=t,p.call(this)}catch(a){return l(a)}}).bind(this),l);{let n=function(){return p.call(this)};if(typeof OffscreenCanvas=="function"&&c instanceof OffscreenCanvas)return c.convertToBlob({type:r,quality:i}).then((function(a){try{return h=a,h.name=s,h.lastModified=t,n.call(this)}catch(o){return l(o)}}).bind(this),l);{let a;return a=c.toDataURL(r,i),Ge(a,s,t).then((function(o){try{return h=o,n.call(this)}catch(u){return l(u)}}).bind(this),l)}}}function v(){return e(h)}})}function St(c){c.width=0,c.height=0}function ie(){return new Promise(function(c,r){let s,t,i,e;return ie.cachedResult!==void 0?c(ie.cachedResult):Ge("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return s=l,xe(s).then(function(h){try{return t=h[1],Ee(t,s.type,s.name,s.lastModified).then(function(v){try{return i=v,St(t),xe(i).then(function(p){try{return e=p[0],ie.cachedResult=e.width===1&&e.height===2,c(ie.cachedResult)}catch(n){return r(n)}},r)}catch(p){return r(p)}},r)}catch(v){return r(v)}},r)}catch(h){return r(h)}},r)})}function $i(c){return new Promise((r,s)=>{const t=new Yi;t.onload=i=>{const e=new DataView(i.target.result);if(e.getUint16(0,!1)!=65496)return r(-2);const l=e.byteLength;let h=2;for(;h<l;){if(e.getUint16(h+2,!1)<=8)return r(-1);const v=e.getUint16(h,!1);if(h+=2,v==65505){if(e.getUint32(h+=2,!1)!=1165519206)return r(-1);const p=e.getUint16(h+=6,!1)==18761;h+=e.getUint32(h+4,p);const n=e.getUint16(h,p);h+=2;for(let a=0;a<n;a++)if(e.getUint16(h+12*a,p)==274)return r(e.getUint16(h+12*a+8,p))}else{if((65280&v)!=65280)break;h+=e.getUint16(h,!1)}}return r(-1)},t.onerror=i=>s(i),t.readAsArrayBuffer(c)})}function qi(c,r){const{width:s}=c,{height:t}=c,{maxWidthOrHeight:i}=r;let e,l=c;return isFinite(i)&&(s>i||t>i)&&([l,e]=Ce(s,t),s>t?(l.width=i,l.height=t/s*i):(l.width=s/t*i,l.height=i),e.drawImage(c,0,0,l.width,l.height),St(c)),l}function Ki(c,r){const{width:s}=c,{height:t}=c,[i,e]=Ce(s,t);switch(r>4&&r<9?(i.width=t,i.height=s):(i.width=s,i.height=t),r){case 2:e.transform(-1,0,0,1,s,0);break;case 3:e.transform(-1,0,0,-1,s,t);break;case 4:e.transform(1,0,0,-1,0,t);break;case 5:e.transform(0,1,1,0,0,0);break;case 6:e.transform(0,1,-1,0,t,0);break;case 7:e.transform(0,-1,-1,0,t,s);break;case 8:e.transform(0,-1,1,0,0,s)}return e.drawImage(c,0,0,s,t),St(c),i}function Ai(c,r,s=0){return new Promise(function(t,i){let e,l,h,v,p,n,a,o,u,w,_,D,A,N,R,O,k,d,E,f;function g(M=5){if(r.signal&&r.signal.aborted)throw r.signal.reason;e+=M,r.onProgress(Math.min(e,100))}function y(M){if(r.signal&&r.signal.aborted)throw r.signal.reason;e=Math.min(Math.max(M,e),100),r.onProgress(e)}return e=s,l=r.maxIteration||10,h=1024*r.maxSizeMB*1024,g(),xe(c,r).then((function(M){try{return[,v]=M,g(),p=qi(v,r),g(),new Promise(function(C,I){var x;if(!(x=r.exifOrientation))return $i(c).then((function(b){try{return x=b,T.call(this)}catch(m){return I(m)}}).bind(this),I);function T(){return C(x)}return T.call(this)}).then((function(C){try{return n=C,g(),ie().then((function(I){try{return a=I?p:Ki(p,n),g(),o=r.initialQuality||1,u=r.fileType||c.type,Ee(a,u,c.name,c.lastModified,o).then((function(x){try{{let b=function(){if(l--&&(R>h||R>A)){let P,S;return P=f?.95*E.width:E.width,S=f?.95*E.height:E.height,[k,d]=Ce(P,S),d.drawImage(E,0,0,P,S),o*=u==="image/png"?.85:.95,Ee(k,u,c.name,c.lastModified,o).then(function(L){try{return O=L,St(E),E=k,R=O.size,y(Math.min(99,Math.floor((N-R)/(N-h)*100))),b}catch(z){return i(z)}},i)}return[1]},m=function(){return St(E),St(k),St(p),St(a),St(v),y(100),t(O)};if(w=x,g(),_=w.size>h,D=w.size>c.size,!_&&!D)return y(100),t(w);var T;return A=c.size,N=w.size,R=N,E=a,f=!r.alwaysKeepResolution&&_,(T=(function(P){for(;P;){if(P.then)return void P.then(T,i);try{if(P.pop){if(P.length)return P.pop()?m.call(this):P;P=b}else P=P.call(this)}catch(S){return i(S)}}}).bind(this))(b)}}catch(b){return i(b)}}).bind(this),i)}catch(x){return i(x)}}).bind(this),i)}catch(I){return i(I)}}).bind(this),i)}catch(C){return i(C)}}).bind(this),i)})}const bn=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Se;function wn(c,r){return new Promise((s,t)=>{Se||(Se=function(l){const h=[];return h.push(l),URL.createObjectURL(new Blob(h))}(bn));const i=new Worker(Se);i.addEventListener("message",function(l){if(r.signal&&r.signal.aborted)i.terminate();else if(l.data.progress===void 0){if(l.data.error)return t(new Error(l.data.error)),void i.terminate();s(l.data.file),i.terminate()}else r.onProgress(l.data.progress)}),i.addEventListener("error",t),r.signal&&r.signal.addEventListener("abort",()=>{t(r.signal.reason),i.terminate()}),i.postMessage({file:c,imageCompressionLibUrl:r.libURL,options:{...r,onProgress:void 0,signal:void 0}})})}function dt(c,r){return new Promise(function(s,t){let i,e,l,h,v,p;if(i={...r},l=0,{onProgress:h}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,v=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=u=>{l=u,typeof h=="function"&&h(l)},!(c instanceof Blob||c instanceof mn))return t(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(c.type))return t(new Error("The file given is not an image"));if(p=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!v||typeof Worker!="function"||p)return Ai(c,i).then((function(u){try{return e=u,o.call(this)}catch(w){return t(w)}}).bind(this),t);var n=(function(){try{return o.call(this)}catch(u){return t(u)}}).bind(this),a=function(u){try{return Ai(c,i).then(function(w){try{return e=w,n()}catch(_){return t(_)}},t)}catch(w){return t(w)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",wn(c,i).then(function(u){try{return e=u,n()}catch{return a()}},a)}catch{a()}function o(){try{e.name=c.name,e.lastModified=c.lastModified}catch{}try{i.preserveExif&&c.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===c.type)&&(e=zi(c,e))}catch{}return s(e)}})}dt.getDataUrlFromFile=ji,dt.getFilefromDataUrl=Ge,dt.loadImage=Vi,dt.drawImageInCanvas=Gi,dt.drawFileInCanvas=xe,dt.canvasToFile=Ee,dt.getExifOrientation=$i,dt.handleMaxWidthOrHeight=qi,dt.followExifOrientation=Ki,dt.cleanupCanvasMemory=St,dt.isAutoOrientationInBrowser=ie,dt.approximateBelowMaximumCanvasSizeOfBrowser=Qi,dt.copyExifWithoutOrientation=zi,dt.getBrowserName=$t,dt.version="2.0.2";const yn=c=>(xi("data-v-7269f290"),c=c(),Ei(),c),An={class:"modal-content"},xn=yn(()=>st("h2",null,"Recadrer votre photo",-1)),En=["src"],_n={__name:"ImageCropperView",props:{isOpen:Boolean,imageSrc:String},emits:["update:isOpen","image-cropped"],setup(c,{emit:r}){const s=r,t=Et(null),i=Et(null);tr(()=>t.value,p=>{er(()=>{e(),h()})});function e(){i.value&&i.value.destroy();const p=t.value;p&&(i.value=new Hi(p,{aspectRatio:1,guides:!1,center:!0,highlight:!1,toggleDragModeOnDblclick:!1,background:!1,zoomOnTouch:!0,zoomOnWheel:!0,checkCrossOrigin:!0,movable:!0,responsive:!0,transition:!1,cropBoxResizable:!0,cropBoxMovable:!0,zoomable:!1,scalable:!0,viewMode:1,autoCropArea:1,minContainerHeight:500,minContainerHeight:300,dragMode:"move"}))}async function l(){i.value&&i.value.getCroppedCanvas({width:300,height:300,imageSmoothingQuality:"high"}).toBlob(async n=>{const a=await dt(n,{maxSizeMB:1,maxWidthOrHeight:300,useWebWorker:!0}),o=new File([a],"croppedImage.jpg",{type:"image/jpeg"});(o.size/(1024*1024)).toFixed(2),s("image-cropped",{file:o,url:URL.createObjectURL(a)}),v()},"image/jpeg")}function h(){setTimeout(()=>{const p=document.querySelector(".cropper-container");p&&p.querySelectorAll(".cropper-container *").forEach(a=>{a.style.transition="none"})},200)}function v(){i.value&&i.value.destroy(),s("update:isOpen",!1)}return ir(()=>{i.value&&i.value.destroy()}),(p,n)=>(Gt(),me(j(ar),{id:"cropImage","is-open":c.isOpen,onIonModalDidDismiss:v},{default:lt(()=>[st("div",An,[xn,c.imageSrc?(Gt(),Oe("img",{key:0,src:c.imageSrc,ref_key:"image",ref:t,class:"cropper-image"},null,8,En)):rr("",!0),Q(j(nr),{style:{"margin-top":"20px"},onClick:l},{default:lt(()=>[Mt("Recadrer et Compresser")]),_:1})])]),_:1},8,["is-open"]))}},Cn=_i(_n,[["__scopeId","data-v-7269f290"]]),Mn=c=>(xi("data-v-600a39e9"),c=c(),Ei(),c),Dn={class:"perform-page"},In={style:{display:"flex","justify-content":"space-between"}},Tn=Mn(()=>st("h1",{style:{color:"black","margin-top":"15px","margin-bottom":"10px"}}," Modifier mes informations ",-1)),Sn={class:"edit_profile_div"},On={class:"div_pp"},Rn={class:"profile_image"},Un={class:"img_div"},Nn={style:{position:"absolute",right:"0px",width:"30px",bottom:"5px",height:"30px",display:"flex","justify-content":"center","align-items":"center","border-radius":"20px","background-color":"white",border:"solid var(--primary-blue) 2px"}},kn={class:"input-div"},Pn={class:"input-div"},Ln={class:"input-div"},Fn={class:"input-div"},Bn={class:"input-div"},Hn={class:"input-div"},zn={class:"input-div"},Wn={style:{"margin-top":"10px"},class:"sports_chip_users"},Xn=or({__name:"EditProfilePage",setup(c){const{triggerError:r}=Ar(),s="http://localhost:8000",t=Et(null),i=Et(null),e=Et(!1),l=Et(!1),h=Et({age:0,weight:0,size:0,email:"",first_name:"",gender:"",id:1,last_name:"",profile_picture:"",sports_user:[]}),v=Et(""),p=Et([]),n=Et([]),a=Et(""),o=Et(null),u=(d,E)=>{const f=E;h.value[d]=f},w=(d,E)=>d&&E?d.id===E.id:d===E;function _(d,E){return d.find(f=>f.id===E)}const D=()=>{l.value=!0;const d={age:h.value.age,weight:h.value.weight,size:h.value.size,email:h.value.email,last_name:h.value.last_name,first_name:h.value.first_name};o.value&&(d.profile_picture=o.value);const E=[],f=[];for(const g of p.value){let y=!1;for(const M of h.value.sports_user)g.id===M.sport.id&&(y=!0);y||E.push(g)}h.value.sports_user.forEach(g=>{_(p.value,g.sport.id)||f.push(g)}),E.forEach(g=>{vr("/sports_user/",{body:{user:h.value.id,sport:g.id}},!0,!0).then(y=>{y.status>300&&(r("Erreur lors de l'ajout du sport : ",g.name),l.value=!1)})}),f.forEach(g=>{mr("/sports_user/"+g.id+"/").then(y=>{y.status>300&&(r("Erreur lors de la suppression du sport : ",g.name),l.value=!1)})}),ti("/users/"+h.value.id+"/",{body:d},!0,!0).then(g=>{g.status>300?(r("Erreur lors de la modification, réessayez"),l.value=!1):v.value!=""?ti("/users/"+h.value.id+"/set_password/",{body:{password:v.value}},!0,!1).then(y=>{y.status>300?(r("Erreur lors de la modification du mot de passe, réessayez"),l.value=!1):ei.push("/profile")}):ei.push("/profile")})},A=()=>{t.value&&t.value.click()};function N(d){const E=d.target.files[0],f=new FileReader;f.onload=g=>{i.value=g.target.result,e.value=!0},f.readAsDataURL(E)}function R({file:d,url:E}){e.value=!1,a.value=E,o.value=d}const O=d=>{const E=d.target,f=Number(E.id);p.value=p.value.filter(g=>g.id!==f)},k=d=>{p.value=d.detail.value};return sr(async()=>{v.value="",l.value=!1,p.value=[];const d=await lr.get("user");d!==""&&(h.value=JSON.parse(d).user,h.value.profile_picture&&(a.value=s+h.value.profile_picture),h.value.sports_user.forEach(f=>{p.value.push(f.sport)})),hr("/sports/all",{body:{}},!1).then(f=>{f.status>300?r("Erreur lors de la récupération des sports"):n.value=f}),document.querySelectorAll(".custom-ion-select").forEach(f=>{const g=f.shadowRoot;if(g){const y=document.createElement("style");y.textContent=`
        .select-wrapper-inner {
          width: 100%;
          justify-content: space-between;
        }
      `,g.appendChild(y)}})}),(d,E)=>(Gt(),me(j(gr),{"data-page":"edit-profile"},{default:lt(()=>[Q(j(pr),null,{default:lt(()=>[st("div",Dn,[st("div",In,[Q(ni,{url:"profile",text:"Retour",back:"back"})]),Tn,st("div",Sn,[st("div",On,[Q(j(Nt),null,{default:lt(()=>[Mt("Photo de profil : ")]),_:1}),st("div",Rn,[st("div",Un,[Q(j(cr),{src:a.value!=""?a.value:"https://static.vecteezy.com/system/resources/previews/004/968/473/original/upload-or-add-a-picture-jpg-file-concept-illustration-flat-design-eps10-modern-graphic-element-for-landing-page-empty-state-ui-infographic-icon-etc-vector.jpg",style:{"object-fit":"cover",overflow:"hidden",height:"130px",width:"130px",display:"flex","justify-content":"center","align-items":"center"},onClick:A},null,8,["src"]),st("div",Nn,[Q(j(Ke),{style:{color:"black"},icon:j(yr),size:"10px"},null,8,["icon"])])]),st("input",{type:"file",accept:"image/jpeg,image/png",id:"fileINput",ref_key:"fileInput",ref:t,onChange:N,style:{display:"none"}},null,544),Q(Cn,{isOpen:e.value,imageSrc:i.value,"onUpdate:isOpen":E[0]||(E[0]=f=>e.value=f),onImageCropped:R},null,8,["isOpen","imageSrc"])])]),st("div",kn,[Q(j(Nt),null,{default:lt(()=>[Mt("Nom : ")]),_:1}),Q(j(Zt),{type:"text",class:"login-input",fill:"outline",slot:"end",placeholder:"Prénom",shape:"round",onIonInput:E[1]||(E[1]=f=>u("first_name",f.detail.value)),value:h.value.first_name},null,8,["value"])]),st("div",Pn,[Q(j(Nt),null,{default:lt(()=>[Mt("Prénom : ")]),_:1}),Q(j(Zt),{type:"text",class:"login-input",fill:"outline",slot:"end",placeholder:"Nom",shape:"round",onIonInput:E[2]||(E[2]=f=>u("last_name",f.detail.value)),value:h.value.last_name},null,8,["value"])]),st("div",Ln,[Q(j(Nt),null,{default:lt(()=>[Mt("Email : ")]),_:1}),Q(j(Zt),{type:"email",class:"login-input",fill:"outline",slot:"end",placeholder:"email@perform.com",shape:"round",onIonInput:E[3]||(E[3]=f=>u("email",f.detail.value)),value:h.value.email},null,8,["value"])]),st("div",Fn,[Q(j(Nt),null,{default:lt(()=>[Mt("Âge : ")]),_:1}),Q(j(Zt),{type:"number",class:"login-input",fill:"outline",slot:"end",placeholder:"20",shape:"round",onIonInput:E[4]||(E[4]=f=>u("age",f.detail.value)),value:h.value.age},null,8,["value"])]),st("div",Bn,[Q(j(Nt),null,{default:lt(()=>[Mt("Taille : ")]),_:1}),Q(j(Zt),{type:"number",class:"login-input",fill:"outline",slot:"end",placeholder:"170",shape:"round",onIonInput:E[5]||(E[5]=f=>u("size",f.detail.value)),value:h.value.size},null,8,["value"])]),st("div",Hn,[Q(j(Nt),null,{default:lt(()=>[Mt("Poids : ")]),_:1}),Q(j(Zt),{type:"number",class:"login-input",fill:"outline",slot:"end",placeholder:"80",shape:"round",onIonInput:E[6]||(E[6]=f=>u("weight",f.detail.value)),value:h.value.weight},null,8,["value"])]),st("div",zn,[Q(j(Nt),null,{default:lt(()=>[Mt("Sélectionne tes sports : ")]),_:1}),Q(j(fr),null,{default:lt(()=>[Q(j(ur),null,{default:lt(()=>[Q(j(dr),{onIonChange:k,class:"custom-ion-select",value:p.value,"aria-label":"Fruit",placeholder:"Selectionner vos sports",multiple:!0,compareWith:w},{default:lt(()=>[(Gt(!0),Oe(Je,null,Ze(n.value,f=>(Gt(),me(j(br),{value:{id:f.id,name:f.name},key:f.id,"aria-selected":"true"},{default:lt(()=>[Mt(ii(f.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),st("div",Wn,[(Gt(!0),Oe(Je,null,Ze(p.value,f=>(Gt(),me(j(wr),{icon:j(ri),style:{"margin-bottom":"10px","margin-right":"5px"},color:"primary"},{default:lt(()=>[Q(j(Ke),{id:f.id,icon:j(ri),onClick:O},null,8,["id","icon"]),Q(j(Nt),null,{default:lt(()=>[Mt(ii(f.name),1)]),_:2},1024)]),_:2},1032,["icon"]))),256))])]),Q(ni,{style:{"margin-bottom":"10px",height:"35px"},text:l.value?"Enregistrement en cours..":"Enregistrer",noIcon:!0,onClick:D,disabled:l.value},null,8,["text","disabled"])])])]),_:1})]),_:1}))}}),Kn=_i(Xn,[["__scopeId","data-v-600a39e9"]]);export{Kn as default};
