import{d as w,V as x,r as _,o as y,s as I,p as j,c as i,e as p,w as t,f as s,g as r,u as e,A as b,j as f,J as k,K as C,I as L,h as B,B as E,i as S,l as n,k as l,t as u,v as V,x as N}from"./index-BSc-WbhD.js";import{d as z}from"./index-QnzCfbxr.js";import{_ as m}from"./NavButton-BzcajF2k.js";/* empty css              */import{s as A,a as D}from"./injurie-4Hiekhtv.js";import{u as F}from"./useErrorHandler-eomL11xx.js";/* empty css                                                  */const J={class:"perform-page"},O={style:{display:"flex","justify-content":"space-between"}},P=r("h1",{style:{color:"black","margin-top":"5px","margin-bottom":"10px"}}," Liste de mes blessures ",-1),R=["onClick"],$={class:"injurie_info"},q={class:"injurie_info"},H={class:"injurie_icon"},Z=w({__name:"ListInjuriesPage",setup(K){const{triggerError:g}=F(),v=x(),h=_("back"),o=_({age:0,weight:0,size:0,email:"",first_name:"",gender:"",id:1,last_name:"",profile_picture:"",sports_user:[],user_injuries:[],users_wellness:[]});return y(async()=>{v.query.edit&&(h.value="");let d=await I.get("user");d!==""&&(o.value=JSON.parse(d).user,j("/injuries/user/"+o.value.id+"/",{body:{}},!0).then(c=>{c.status>301?g("Erreur lors de la récupération des blessures"):o.value.user_injuries=c}))}),(d,c)=>(i(),p(e(B),{"data-page":"list-injuries"},{default:t(()=>[s(e(L),null,{default:t(()=>[r("div",J,[r("div",O,[s(m,{url:"/profile",text:"Retour"}),s(m,{url:"add_injurie",text:"Ajouter",noIcon:!0})]),P]),s(e(b),{lines:"none",style:{"padding-left":"var(--pd-l)","padding-right":"var(--pd-r)","padding-top":"10px","padding-bottom":"10px"}},{default:t(()=>[(i(!0),f(C,null,k(o.value.user_injuries,a=>(i(),p(e(E),{class:"injurie_div_info"},{default:t(()=>[(i(),f("div",{class:"injurie_div_parent",onClick:T=>e(S).push("/view_injuries/"+a.id),key:a.id},[r("div",$,[s(e(n),{style:{width:"65%","text-wrap":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},{default:t(()=>[l(u(a.name),1)]),_:2},1024),s(e(n),null,{default:t(()=>[l(u(new Date(a.date).toLocaleString("fr").split(" ")[0]),1)]),_:2},1024)]),r("div",q,[s(e(n),{style:{"font-style":"italic"}},{default:t(()=>[l(u(a.zone.name),1)]),_:2},1024),s(e(n),{class:V([e(A)(a.state),"injurie_state"])},{default:t(()=>[l(u(e(D)(a.state)),1)]),_:2},1032,["class"])])],8,R)),r("div",H,[s(e(N),{icon:e(z)},null,8,["icon"])])]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}))}});export{Z as default};
