import{d as O}from"./index-QnzCfbxr.js";import{d as W,r as _,W as q,P as D,o as G,s as H,p as U,c as o,e as E,w as t,f as e,g as a,k as b,X as j,j as n,J as m,K as v,u as s,I as K,h as X,L as y,t as d,l as z,A as F,B as $,x as A,N as Q,O as Y}from"./index-BSc-WbhD.js";import{_ as Z}from"./NavButton-BzcajF2k.js";/* empty css              */import{u as ee}from"./useErrorHandler-eomL11xx.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                  */const se=w=>(Q("data-v-a869dfe5"),w=w(),Y(),w),oe={class:"perform-page"},ae={style:{display:"flex","justify-content":"space-between"}},le=se(()=>a("h1",{style:{color:"black","margin-top":"5px","margin-bottom":"10px"}}," Mes records ",-1)),re={style:{"padding-left":"10px","margin-bottom":"10px"}},ne={style:{display:"flex","justify-content":"center","align-items":"center"}},ie={style:{"font-size":"15px"}},de={style:{"padding-left":"10px","margin-bottom":"10px"}},ue={style:{display:"flex","justify-content":"center","align-items":"center"}},ce={style:{"font-size":"15px"}},pe=W({__name:"ListRecords",setup(w){const{triggerError:L}=ee(),u=_(null),i=_(!1),R=q(),B=_([]),N=_([]),k=_(!1),I=_(!1);D(u,()=>{i.value==!0&&I.value==!1&&(i.value=!1),i.value==!0&&k.value==!1&&(i.value=!1),u.value=="one"&&k.value===!1&&(S(),k.value=!0),u.value=="two"&&I.value===!1&&(S(),I.value=!0)});const S=()=>{let c=0,l=!1;setTimeout(()=>{for(;l==!1&&c<3;){const r=document.querySelectorAll(".record-unit");if(r){l=!0,i.value=!0,c=4;for(let C of r){const x=document.createElement("style");x.textContent=`
                  .item-inner .input-wrapper {
                    padding-left : 10px !important;
                    padding-right : 10px !important;
                    width: 100%;
                    display : flex;
                    justify-content: space-between;
                  }
                    .item-inner {
                    padding-left : 0px !important;
                    padding-right : 0px !important;
                  }
                `,C.shadowRoot.appendChild(x)}}else c=c+1}},500)};return G(async()=>{i.value=!1;let c=await H.get("user"),l=JSON.parse(c);l!==""&&(U("/records_user/by-theme-sports?user_id="+l.user.id,{body:{}},!0).then(r=>{r.status>300?L("Erreur lors de la récupération des records"):B.value=r}),U("/records_user/by-user-sports?user_id="+l.user.id,{body:{}},!0).then(r=>{r.status>300?L("Erreur lors de la récupération des records"):N.value=r}),S())}),(c,l)=>{const r=y("v-tab"),C=y("v-tabs"),x=y("v-progress-circular"),T=y("v-tabs-window-item"),J=y("v-tabs-window"),M=y("v-card-text");return o(),E(s(X),{"data-page":"Records"},{default:t(()=>[e(s(K),null,{default:t(()=>[a("div",oe,[a("div",ae,[e(Z,{url:"profile",text:"Retour",back:"back"})]),le]),e(C,{id:"tabs-exercise",modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=p=>u.value=p)},{default:t(()=>[e(r,{value:"one"},{default:t(()=>[b("Générales")]),_:1}),e(r,{value:"two"},{default:t(()=>[b("Mes sports")]),_:1})]),_:1},8,["modelValue"]),e(M,null,{default:t(()=>[a("div",{style:j([{width:"100%","justify-content":"center","align-items":"center"},i.value?"display:none;":"display:flex"]),key:"spinner"},[e(x,{color:"primary",indeterminate:""})],4),e(J,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=p=>u.value=p)},{default:t(()=>[e(T,{style:j(i.value?"display:block;":"display:none"),value:"one"},{default:t(()=>[(o(!0),n(v,null,m(B.value,(p,h)=>(o(),n("div",{class:"records-div",key:h},[a("h4",re,d(h),1),(o(!0),n(v,null,m(p,(g,V)=>(o(),n("div",{key:g.id,class:"records-list"},[e(s(z),{position:"stacked",style:{"margin-left":"10px","font-weight":"500","font-style":"italic"}},{default:t(()=>[b("Thème : "+d(V),1)]),_:2},1024),(o(!0),n(v,null,m(g,f=>(o(),E(s(F),null,{default:t(()=>[e(s($),{onClick:P=>s(R).push("/show_records/"+f.record),class:"record-unit"},{default:t(()=>[a("p",null,d(f.record_name),1),a("div",ne,[a("p",ie,d(f.formatted_record),1),e(s(A),{icon:s(O)},null,8,["icon"])])]),_:2},1032,["onClick"])]),_:2},1024))),256))]))),128))]))),128))]),_:1},8,["style"]),e(T,{value:"two",style:j(i.value?"display:block;":"display:none")},{default:t(()=>[(o(!0),n(v,null,m(N.value,(p,h)=>(o(),n("div",{class:"records-div",key:h},[a("h4",de,d(h),1),(o(!0),n(v,null,m(p,(g,V)=>(o(),n("div",{key:g.id,class:"records-list"},[e(s(z),{position:"stacked",style:{"margin-left":"10px","font-weight":"500","font-style":"italic"}},{default:t(()=>[b("Thème : "+d(V),1)]),_:2},1024),(o(!0),n(v,null,m(g,f=>(o(),E(s(F),null,{default:t(()=>[e(s($),{onClick:P=>s(R).push("/show_records/"+f.record),class:"record-unit"},{default:t(()=>[a("p",null,d(f.record_name),1),a("div",ue,[a("p",ce,d(f.formatted_record),1),e(s(A),{icon:s(O)},null,8,["icon"])])]),_:2},1032,["onClick"])]),_:2},1024))),256))]))),128))]))),128))]),_:1},8,["style"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}}),we=te(pe,[["__scopeId","data-v-a869dfe5"]]);export{we as default};
