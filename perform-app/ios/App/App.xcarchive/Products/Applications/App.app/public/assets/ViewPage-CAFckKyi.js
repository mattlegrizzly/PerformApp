import{d as ee,r as d,V as te,q as se,o as le,s as oe,p as F,n as ae,c as i,e as v,w as s,f as l,g as t,u as e,x as j,t as c,y as R,I as $,j as u,J as m,K as f,X as V,a2 as ie,k as p,A as J,E as ne,h as re,T as de,F as ue,L as x,M as I,B as U,l as q,N as ce,O as pe}from"./index-BSc-WbhD.js";import{k as _e,n as ve,b as A}from"./index-QnzCfbxr.js";import{_ as me}from"./NavButton-BzcajF2k.js";import{g as fe}from"./perform-body-component-lib-DGzadFkm.js";/* empty css              */import{u as xe}from"./useErrorHandler-eomL11xx.js";import{_ as ye}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                  */const C=y=>(ce("data-v-ff4f88f9"),y=y(),pe(),y),he={class:"perform-page"},ge={style:{display:"flex","justify-content":"space-between","margin-bottom":"15px"}},we={style:{color:"black","margin-top":"5px","margin-bottom":"10px","font-size":"20px"}},be={class:"info_wrapper"},ke={class:"info_exercise"},Ve={style:{padding:"10px"}},Ie={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"10px"}},Ce=C(()=>t("h1",{style:{margin:"0px"}},"Liste des matériels",-1)),ze={style:{width:"90%","padding-bottom":"5px"}},Se=C(()=>t("h2",{style:{"font-size":"14px"}},"Matériels :",-1)),Ee={style:{display:"flex"}},Ne={class:"info_exercise"},je=C(()=>t("h2",{style:{"font-size":"14px"}},"Sports :",-1)),$e={style:{display:"flex"}},Le={style:{padding:"10px"}},Me={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"10px"}},Te=C(()=>t("h1",{style:{margin:"0px"}},"Liste des sports",-1)),Be={style:{width:"90%","padding-bottom":"5px"}},Oe=["src"],Pe=["src"],We={style:{"padding-top":"10px !important",flex:"1",overflow:"scroll"},class:"instructions"},Fe={class:"num_step"},Re={style:{display:"flex",width:"50%","justify-content":"space-between","align-items":"center"}},Je={style:{width:"50%","padding-left":"10px",display:"flex","align-items":"center"}},Ue=1080/1920,qe=ee({__name:"ViewPage",setup(y){const{triggerError:z}=xe(),h=d(null),g=d(null),S=d(null),D=te(),L="http://localhost:8000",w=d(null),n=d({name:"",zone_exercises:[],video:"",steps_exercise:[],material_exercise:[],sports_exercise:[]}),M=d(!0),b=d(!0),k=d(0),E=d(0),_=d(!1),N=d(0),H=d(!0),T=r=>r.slice(0,2),B=async r=>{r.$el.present()},K=()=>{_.value?de("/userfavexercises/"+N.value+"/",!0).then(()=>{_.value=!1}):ue("/userfavexercises/",{body:{user:Number(E.value),fav_exercise:Number(k.value)}},!0).then(r=>{r.status>300?z("Erreur lors de l'ajout au favoris"):(_.value=!0,N.value=r.id)})};se(()=>{M.value=!1,b.value=!1}),le(()=>{b.value=!0,M.value=!0,_.value=!1,n.value.zone_exercises=[],k.value=Number(D.params.id),oe.get("user").then(r=>{E.value=JSON.parse(r).user.id,F("/userfavexercises/user/"+E.value+"/?exercise_id="+Number(k.value),{body:{}},!0).then(a=>{a.status!=null&&a.status>300?(z("Erreur lors de la récupération des favoris"),_.value=!1):a.length>0&&(N.value=a[0].id,_.value=!0)})}),F("/exercises/"+k.value+"/",{body:{}},!1).then(r=>{r.status>300?z("Erreur lors de l'ajout au favoris"):(n.value=r,setTimeout(()=>{b.value=!1},700))})});const O=ae(()=>({height:`${(S.value?S.value.clientWidth:window.innerWidth)*Ue}px`}));return(r,a)=>{const X=x("v-progress-circular"),P=x("v-tab"),G=x("v-tabs"),W=x("v-tabs-window-item"),Q=x("v-tabs-window"),Y=x("v-card-text");return i(),v(e(re),{"data-page":"ExerciseView",style:{"background-color":"white"}},{default:s(()=>[l(e($),{id:"view_page"},{default:s(()=>[t("div",he,[t("div",ge,[l(me,{url:"/exercises",text:"Retour",back:"back"}),l(e(j),{onClick:K,icon:_.value?e(_e):e(ve),size:"large",color:"danger"},null,8,["icon"])]),t("h1",we,c(n.value.name),1),t("div",be,[t("div",ke,[l(e(R),{class:"static-modal",ref_key:"modalMaterial",ref:g},{default:s(()=>[l(e($),null,{default:s(()=>[t("div",Ve,[t("div",Ie,[Ce,l(e(j),{class:"close-icon",onClick:a[0]||(a[0]=o=>g.value?g.value.$el.dismiss():""),icon:e(A)},null,8,["icon"])]),(i(!0),u(f,null,m(n.value.material_exercise,o=>(i(),u("div",ze,[l(e(I),{style:{width:"100%","padding-left":"10px","padding-right":"10px"},color:"primary"},{default:s(()=>[p(c(o.material.name),1)]),_:2},1024)]))),256))])]),_:1})]),_:1},512),Se,t("div",Ee,[(i(!0),u(f,null,m(T(n.value.material_exercise),o=>(i(),v(e(I),{color:"primary"},{default:s(()=>[p(c(o.material.name),1)]),_:2},1024))),256)),t("div",{id:"moreText",class:"more-text",style:V([n.value.sports_exercise.length<2?"display:none;":"display:block",{"font-size":"10px",display:"flex","align-items":"center","margin-left":"5px"}]),onClick:a[1]||(a[1]=o=>B(g.value))}," Voir plus... ",4)])]),t("div",Ne,[je,t("div",$e,[l(e(R),{class:"static-modal",ref_key:"modalSports",ref:h},{default:s(()=>[l(e($),null,{default:s(()=>[t("div",Le,[t("div",Me,[Te,l(e(j),{class:"close-icon",onClick:a[2]||(a[2]=o=>h.value?h.value.$el.dismiss():""),icon:e(A)},null,8,["icon"])]),(i(!0),u(f,null,m(n.value.sports_exercise,o=>(i(),u("div",Be,[l(e(I),{style:{width:"100%","padding-left":"10px","padding-right":"10px"},color:"primary"},{default:s(()=>[p(c(o.sport.name),1)]),_:2},1024)]))),256))])]),_:1})]),_:1},512),(i(!0),u(f,null,m(T(n.value.sports_exercise),o=>(i(),v(e(I),{color:"primary"},{default:s(()=>[p(c(o.sport.name),1)]),_:2},1024))),256)),t("div",{id:"moreText",class:"more-text",style:V([n.value.sports_exercise.length<2?"display:none;":"display:block",{"font-size":"10px",display:"flex","align-items":"center","margin-left":"5px"}]),onClick:a[3]||(a[3]=o=>B(h.value))}," Voir plus... ",4)])])])]),l(ie,{mode:"out-in",name:"fade"},{default:s(()=>[b.value?(i(),u("div",{style:V([O.value,{width:"100%",display:"flex","justify-content":"center","align-items":"center"}]),key:"spinner"},[l(X,{color:"primary",indeterminate:""})],4)):(i(),u("div",{key:"video",class:"video-container",style:V(O.value)},[t("video",{ref_key:"videoController",ref:S,id:"player",playsinline:"","data-poster":"/path/to/poster.jpg",width:"100%",autoplay:"",hideControl:"",loop:"",clickToPlay:"",muted:""},[t("source",{src:e(L)+n.value.video,type:"video/mp4"},null,8,Oe),t("source",{src:e(L)+n.value.video,type:"video/webm"},null,8,Pe)],512)],4))]),_:1}),l(G,{id:"tabs-exercise",modelValue:w.value,"onUpdate:modelValue":a[4]||(a[4]=o=>w.value=o)},{default:s(()=>[l(P,{value:"one"},{default:s(()=>[p("Instructions")]),_:1}),l(P,{value:"two"},{default:s(()=>[p("Muscles")]),_:1})]),_:1},8,["modelValue"]),t("div",We,[l(Y,null,{default:s(()=>[l(Q,{modelValue:w.value,"onUpdate:modelValue":a[5]||(a[5]=o=>w.value=o)},{default:s(()=>[l(W,{value:"one"},{default:s(()=>[H.value?(i(),v(e(J),{key:0,class:"list-item",style:{height:"auto","margin-left":"0px !important","margin-right":"0px !important",display:"flex","flex-wrap":"wrap","margin-bottom":"20px"},inset:!0},{default:s(()=>[(i(!0),u(f,null,m(n.value.steps_exercise,(o,Z)=>(i(),v(e(U),{class:"step_info",key:o.id},{default:s(()=>[t("div",Fe,c(Z+1),1),l(e(q),null,{default:s(()=>[p(c(o.text),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):ne("",!0)]),_:1}),l(W,{value:"two",style:{display:"flex","min-height":"250px"}},{default:s(()=>[t("div",Re,[l(e(fe),{height:"200",width:"100",viewOnly:"show",muscleSelected:n.value.zone_exercises},null,8,["muscleSelected"])]),t("div",Je,[l(e(J),{style:{width:"100%"},class:"muscles_list"},{default:s(()=>[(i(!0),u(f,null,m(n.value.zone_exercises,o=>(i(),v(e(U),{style:{"background-color":"transparent"}},{default:s(()=>[l(e(q),{style:{"font-size":"14px"}},{default:s(()=>[p(c(o.zone.name),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1})}}}),Ze=ye(qe,[["__scopeId","data-v-ff4f88f9"]]);export{Ze as default};
