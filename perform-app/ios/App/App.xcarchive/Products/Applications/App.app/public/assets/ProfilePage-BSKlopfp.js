import{d as z,r as E,n as V,o as D,s as I,c as n,e as f,w as l,f as o,g as e,j as v,t as a,J as j,K as C,u as t,i as w,x as b,E as x,A as L,l as d,k as c,I as M,h as O,L as B,M as A,v as T,N as F,O as J}from"./index-BSc-WbhD.js";/* empty css              */import{_ as u}from"./NavButton-BzcajF2k.js";import{s as R,a as $}from"./injurie-4Hiekhtv.js";import{d as S,p as q,l as K,m as U,e as W,f as G}from"./index-QnzCfbxr.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                  */const _=m=>(F("data-v-6e2d712e"),m=m(),J(),m),Q={class:"container_home"},X={class:"profile_picture_div"},Y={class:"img_container"},Z={key:0,style:{display:"flex","justify-content":"center","align-items":"center","font-size":"2rem","font-weight":"bold",color:"var(--primary-blue)","background-color":"white","border-radius":"50%",width:"100%",height:"100%","text-transform":"capitalize"}},ee=["src"],te={class:"profile_container_div"},se={class:"profile_container_div"},oe={class:"div_container_info"},ie=_(()=>e("h2",null,"Mes infos",-1)),ne={class:"users_infos"},le={class:"div_user_info"},ae=_(()=>e("h3",null,"Âge :",-1)),re={class:"div_user_info"},ce=_(()=>e("h3",null,"Poids :",-1)),ue={class:"div_user_info"},_e=_(()=>e("h3",null,"Taille :",-1)),de={class:"profile_container_div"},pe={class:"div_container_info"},fe=_(()=>e("h2",null,"Mes disciplines",-1)),ve={class:"profile_container_div"},me=_(()=>e("h2",{style:{"margin-bottom":"0px  !important"}},"Mes records",-1)),he={class:"profile_container_div"},ge={class:"div_container_info",style:{display:"flex","justify-content":"center","flex-wrap":"wrap"}},we=_(()=>e("h2",{style:{"text-align":"left",width:"100%"}},"Mes blessures",-1)),xe=["onClick"],ye={class:"buttons_user"},ke=z({__name:"ProfilePage",setup(m){const y="http://localhost:8000",s=E({age:0,weight:0,size:0,email:"",first_name:"",gender:"",id:1,last_name:"",profile_picture:"",sports_user:[],user_injuries:[],users_wellness:[]});function N(){return s.value.user_injuries.sort(function(r,p){const i=new Date(r.date);return new Date(p.date)-i}).slice(0,2)}const k=V(()=>s.value.profile_picture&&s.value.profile_picture.includes(y.split("//")[1])?s.value.profile_picture.replace("http","https"):s.value.profile_picture===null||s.value.profile_picture===""?"":y+s.value.profile_picture),P=()=>{I.set("user","").then(()=>{w.push("login")})};return D(async()=>{let h=await I.get("user");h!==""&&(s.value=JSON.parse(h).user);const r=document.querySelectorAll(".custom_nav");if(r!==null)for(const p of r){const i=p.shadowRoot;if(i===null)return;const g=document.createElement("style");g.textContent=`
        .button-inner {
        justify-content: flex-start !important;
        }
    `,i.appendChild(g)}}),(h,r)=>{const p=B("v-divider");return n(),f(t(O),{"data-page":"profile"},{default:l(()=>[o(t(M),null,{default:l(()=>[e("div",Q,[e("div",X,[e("div",Y,[k.value==""?(n(),v("div",Z,a(s.value.first_name[0]),1)):(n(),v("img",{key:1,src:k.value,alt:"profile"},null,8,ee))])]),e("div",te,[e("h1",null,a(s.value.first_name+" "+s.value.last_name),1)]),e("div",se,[e("div",oe,[ie,e("div",ne,[e("div",le,[ae,e("p",null,a(s.value.age),1)]),e("div",re,[ce,e("p",null,a(s.value.weight)+" kg",1)]),e("div",ue,[_e,e("p",null,a(s.value.size)+" cm",1)])])])]),e("div",de,[e("div",pe,[fe,(n(!0),v(C,null,j(s.value.sports_user,i=>(n(),f(t(A),{style:{"margin-right":"5px","margin-bottom":"5px"},class:"ion-chip-user",color:"primary"},{default:l(()=>[c(a(i.sport.name),1)]),_:2},1024))),256))])]),e("div",ve,[e("div",{onClick:r[0]||(r[0]=()=>t(w).push("records")),class:"div_container_info",style:{display:"flex","align-items":"center","justify-content":"space-between"}},[me,o(t(b),{icon:t(S)},null,8,["icon"])])]),e("div",he,[e("div",ge,[we,s.value.user_injuries.length==0?(n(),f(u,{key:0,url:"add_injurie",text:"Ajouter une blessure",noIcon:!0})):x("",!0),o(t(L),{class:"injurie_list",style:{width:"100%"}},{default:l(()=>[(n(!0),v(C,null,j(N(),i=>(n(),v("div",{class:"injurie_div",onClick:g=>t(w).push("/view_injuries/"+i.id)},[o(t(d),{style:{width:"20%","text-wrap":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},{default:l(()=>[c(a(i.zone.name),1)]),_:2},1024),o(t(d),null,{default:l(()=>[c("|")]),_:1}),o(t(d),null,{default:l(()=>[c(a(new Date(i.date).toLocaleString("fr").split(" ")[0]),1)]),_:2},1024),o(t(d),null,{default:l(()=>[c("|")]),_:1}),o(t(d),{class:T([t(R)(i.state),"injurie_state"])},{default:l(()=>[c(a(t($)(i.state)),1)]),_:2},1032,["class"]),o(t(b),{icon:t(S)},null,8,["icon"])],8,xe))),256)),s.value.user_injuries.length>2?(n(),f(t(d),{key:0,style:{width:"100%","text-align":"center",display:"block"}},{default:l(()=>[c("...")]),_:1})):x("",!0)]),_:1}),s.value.user_injuries.length>0?(n(),f(u,{key:1,class:"custom_nav",url:"list_injuries",text:"Voir toutes mes blessures",noIcon:!0})):x("",!0)]),o(p,{thickness:3}),e("div",ye,[o(u,{class:"custom_nav",url:"edit_profile",text:"Editer mon profil",icon:t(q)},null,8,["icon"]),o(u,{class:"custom_nav",url:"edit_password",text:"Editer mon mot de passe",icon:t(K)},null,8,["icon"]),o(u,{class:"custom_nav",href:"mailto:contact@performapp.com",text:"Nous contacter",icon:t(U)},null,8,["icon"]),o(u,{class:"custom_nav",url:"conditions",text:"Nos conditions générales d'utilisations",icon:t(W)},null,8,["icon"]),o(u,{class:"custom_nav",onClick:P,text:"Déconnexion",icon:t(G),color:"light"},null,8,["icon"])])])])]),_:1})]),_:1})}}}),ze=H(ke,[["__scopeId","data-v-6e2d712e"]]);export{ze as default};
